<!DOCTYPE html>
<!-- Server: sfn-web-1 -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]>-->
<html class="js flexbox canvas canvastext no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths js canvas canvastext js flexbox canvas canvastext no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths js canvas canvastext" lang="en"><!--<![endif]--><head>
    <meta content="text/html; charset=UTF-8" http-equiv="content-type">
    <title>
  Ujorm / Svn /
  [r2222]
  /trunk/samples/core/src/main/java/org/SampleCORE.java
</title>

<meta id="webtracker" name="webtracker" content="{&quot;event_id&quot;: &quot;a348817c-cca5-11e3-9a58-0200ac1d2933&quot;, &quot;project&quot;: &quot;ujoframework&quot;, &quot;action_type&quot;: &quot;svn&quot;}">

<script src="key-value-sample_files/ga_002.js" async="" type="text/javascript"></script><script src="key-value-sample_files/ga.js" async="" type="text/javascript"></script><script src="key-value-sample_files/modernizr.js"></script>

<script src="key-value-sample_files/jquery-1.js"></script>

<script src="key-value-sample_files/header.js"></script>
<!--[if lt IE 7 ]>
  <script src="http://a.fsdn.com/allura/nf/1398271288/_ew_/theme/sftheme/js/sftheme/dd_belatedpng.js"></script>
  <script> DD_belatedPNG.fix('img, .png_bg'); //fix any <img> or .png_bg background-images </script>
<![endif]-->
<link href="key-value-sample_files/css_002.css" rel="stylesheet" type="text/css">
<style type="text/css">
    @font-face {
        font-family: "Pictos";
        src: url('http://a.fsdn.com/allura/nf/1398271288/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.eot');
        src: local("â˜º"), url('http://a.fsdn.com/allura/nf/1398271288/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.woff') format('woff'), url('http://a.fsdn.com/allura/nf/1398271288/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.ttf') format('truetype'), url('http://a.fsdn.com/allura/nf/1398271288/_ew_/theme/sftheme/css/fonts/sftheme/pictos-web.svg') format('svg');
    }
</style>
    <script type="text/javascript">
            /*jslint onevar: false, nomen: false, evil: true, css: true, plusplus: false, white: false, forin: true, on: true, immed: false */
            /*global confirm, alert, unescape, window, jQuery, $, net, COMSCORE */
    </script>

      <!-- ew:head_css -->


      <link rel="stylesheet" type="text/css" href="key-value-sample_files/css_002.css">

      <link rel="stylesheet" type="text/css" href="key-value-sample_files/tool_icon_css.css">

      <link rel="stylesheet" type="text/css" href="key-value-sample_files/forge.css">


<!-- /ew:head_css -->




      <!-- ew:head_js -->



<!-- /ew:head_js -->





      <style type="text/css">
        #page-body.project---init-- #top_nav { display: none; }
#page-body.project---init-- #nav_menu_holder { display: none; margin-bottom: 0; }
#page-body.project---init-- #content_base {margin-top: 0; }
      </style>


    <link rel="alternate" type="application/rss+xml" title="RSS" href="http://sourceforge.net/p/ujoframework/svn/feed.rss">
    <link rel="alternate" type="application/atom+xml" title="Atom" href="http://sourceforge.net/p/ujoframework/svn/feed.atom">

      <style>.XdJAeOVFUJKCslUyWhLtTo { display:none }</style>







<script type="text/javascript">
    var _gaq = _gaq || [];

    function _add_tracking(prefix, tracking_id, send_user) {
        _gaq.push([prefix+'._setAccount', tracking_id]);
        _gaq.push([prefix+'._setCustomVar', 1, 'Page Type', 'svn', 3]);_gaq.push([prefix+'._trackPageview']);
    }
      _add_tracking('sfnt1', 'UA-32013-6', true);
      _add_tracking('sfnt2', 'UA-36130941-1', true);


    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' === document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>
  <style></style><style></style></head>

  <body class="content-maximized" id="forge">
    <h2 class="hidden">
        <span style="color:red">Error:</span> CSS did not load.<br>
        This may happen on the first request due to CSS mimetype issues.
        Try clearing your browser cache and refreshing.
        <hr>
    </h2>


      <!-- ew:body_top_js -->



<!-- /ew:body_top_js -->




<header id="site-header">
    <div class="wrapper">
        <a href="http://sourceforge.net/" class="logo">
            <span>SourceForge</span>
        </a>

        <form method="get" action="/directory/">
            <input tabindex="1" id="words" name="q" placeholder="Search" type="text">
        </form>

        <!--Switch to {language}-->
        <nav id="nav-site">
            <a href="http://sourceforge.net/directory/" title="Browse our software.">Browse</a>
            <a href="http://sourceforge.net/directory/enterprise" title="Browse our Enterprise software.">Enterprise</a>
            <a href="http://sourceforge.net/blog/" title="Read the latest news from the SF HQ.">Blog</a>
            <a href="http://sourceforge.net/support" title="Contact us for help and feedback.">Help</a>
            <a href="http://sourceforge.net/jobs?source=header" title="Search 80k+ tech jobs." class="featured-link">Jobs</a>
        </nav>
        <nav id="nav-account">

              <div class="logged_out">
                <a href="http://sourceforge.net/account/login.php">Log In</a>
                <span>or</span>
                <a href="https://sourceforge.net/user/registration/">Join</a>
              </div>

        </nav>

    </div>
</header>
<header id="site-sec-header">
    <div class="wrapper">
        <nav id="nav-hubs">
            <h4>Solution Centers</h4>
            <a href="http://ibmsmartercommerce.sourceforge.net/">Smarter Commerce</a>
            <a href="http://goparallel.sourceforge.net/">Go Parallel</a>
            <a href="http://html5center.sourceforge.net/">HTML5</a>
            <a href="http://ibmsmarteritservices.sourceforge.net/">Smarter IT</a>
        </nav>
        <nav id="nav-collateral">
            <a href="http://library.slashdotmedia.com/?source=sfnet_header">Resources</a>

            <a href="">Newsletters</a>

        </nav>
    </div>
</header>





    <section id="page-body" class=" neighborhood-Projects project-ujoframework mountpoint-svn">
	  <div id="nav_menu_holder">









    <nav id="breadcrumbs">
        <ul>
            <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://sourceforge.net/">Home</a></li>
            <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://sourceforge.net/directory">Browse</a></li>






                <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://sourceforge.net/p/">Projects</a></li>



                <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a itemprop="url" href="http://sourceforge.net/p/ujoframework/">Ujorm</a></li>



                <li itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">Svn</li>


        </ul>
    </nav>








      <img src="key-value-sample_files/icon.png" class="project_icon" alt="Project Logo">

    <h1 class="project_title">
        <a href="http://sourceforge.net/p/ujoframework/" class="project_link">Ujorm</a>
    </h1>



    <h2 class="project_summary with-icon">

    </h2>

    <div class="brought-by with-icon">
        Brought to you by:



                <a href="http://sourceforge.net/u/ponec/">ponec</a>
            </div>



      </div>
      <div id="top_nav" class="">


<ul class="dropdown">

    <li class="">
        <a href="http://sourceforge.net/projects/ujoframework/" class="ui-icon-tool-summary-32">
            Summary
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/projects/ujoframework/files/" class="ui-icon-tool-files-32">
            Files
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/projects/ujoframework/reviews" class="ui-icon-tool-reviews-32">
            Reviews
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/projects/ujoframework/support" class="ui-icon-tool-support-32">
            Support
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/wiki/" class="ui-icon-tool-wiki-32">
            Wiki
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/apps/mediawiki/ujoframework/" class="ui-icon-tool-hosted_apps-32">
            MediaWiki
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/feature-requests/" class="ui-icon-tool-tickets-32">
            Feature Requests
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/news/" class="ui-icon-tool-blog-32">
            News
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/discussion/" class="ui-icon-tool-discussion-32">
            Discussion
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/code/" class="ui-icon-tool-hg-32">
            Code
        </a>


    </li>

    <li class="selected">
        <a href="http://sourceforge.net/p/ujoframework/svn/" class="ui-icon-tool-svn-32">
            Svn
        </a>


    </li>

    <li class="">
        <a href="http://sourceforge.net/p/ujoframework/mailman/" class="ui-icon-tool-mailman-32">
            Mailing Lists
        </a>


    </li>

</ul>


      </div>
      <div id="content_base">






<div id="sidebar">

    <div>&nbsp;</div>






      <ul class="sidebarmenu">


    <li>
      <a href="http://sourceforge.net/p/ujoframework/svn/commit_browser"><b data-icon="o" class="ico ico-folder"></b> <span>Browse Commits</span></a>
    </li>




      </ul>



</div>






        <div class="grid-20 pad">
          <h2 class="dark title">
<a href="http://sourceforge.net/p/ujoframework/svn/2222/">[r2222]</a>:



    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/">trunk</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/">samples</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/">core</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/src/">src</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/src/main/">main</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/src/main/java/">java</a> /


    <a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/src/main/java/org/">org</a> /


 SampleCORE.java

            <!-- actions -->
            <small>



    <a id="maximize-content" href="#">
      <b data-icon="`" class="ico ico-expand" title="Maximize"> </b> Maximize
    </a>
    <a id="restore-content" href="#">
      <b data-icon="J" class="ico ico-restore" title="Restore"> </b> Restore
    </a>
<a href="http://sourceforge.net/p/ujoframework/svn/2222/log/?path=/trunk/samples/core/src/main/java/org/SampleCORE.java">
  <b data-icon="N" class="ico ico-history" title="History"> </b> History
</a>

            </small>
            <!-- /actions -->
          </h2>

          <div>





    <p><a href="http://sourceforge.net/p/ujoframework/svn/2222/tree/trunk/samples/core/src/main/java/org/SampleCORE.java?format=raw">Download this file</a></p>
    <div class="clip grid-19 codebrowser">
      <h3>
        <span class="ico-l"><b data-icon="n" class="ico ico-table"></b> SampleCORE.java</span>
        &nbsp;&nbsp;
        410 lines (347 with data), 14.8 kB
      </h3>

        <table class="codehilitetable"><tbody><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409</pre></div></td><td class="code"><div class="codehilite"><pre><div id="l1" class="code_block"><span class="cm">/*</span>
</div><div id="l2" class="code_block"><span class="cm"> *  Copyright 2011-2014 Pavel Ponec</span>
</div><div id="l3" class="code_block"><span class="cm"> *</span>
</div><div id="l4" class="code_block"><span class="cm"> *  Licensed under the Apache License, Version 2.0 (the "License");</span>
</div><div id="l5" class="code_block"><span class="cm"> *  you may not use this file except in compliance with the License.</span>
</div><div id="l6" class="code_block"><span class="cm"> *  You may obtain a copy of the License at</span>
</div><div id="l7" class="code_block"><span class="cm"> *</span>
</div><div id="l8" class="code_block"><span class="cm"> *      http://www.apache.org/licenses/LICENSE-2.0</span>
</div><div id="l9" class="code_block"><span class="cm"> *</span>
</div><div id="l10" class="code_block"><span class="cm"> *  Unless required by applicable law or agreed to in writing, software</span>
</div><div id="l11" class="code_block"><span class="cm"> *  distributed under the License is distributed on an "AS IS" BASIS,</span>
</div><div id="l12" class="code_block"><span class="cm"> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
</div><div id="l13" class="code_block"><span class="cm"> *  See the License for the specific language governing permissions and</span>
</div><div id="l14" class="code_block"><span class="cm"> *  limitations under the License.</span>
</div><div id="l15" class="code_block"><span class="cm"> */</span>
</div><div id="l16" class="code_block">
</div><div id="l17" class="code_block"><span class="kn">package</span> <span class="n">org</span><span class="o">;</span>
</div><div id="l18" class="code_block">
</div><div id="l19" class="code_block"><span class="kn">import</span> <span class="nn">java.io.ByteArrayInputStream</span><span class="o">;</span>
</div><div id="l20" class="code_block"><span class="kn">import</span> <span class="nn">java.io.ByteArrayOutputStream</span><span class="o">;</span>
</div><div id="l21" class="code_block"><span class="kn">import</span> <span class="nn">java.io.InputStream</span><span class="o">;</span>
</div><div id="l22" class="code_block"><span class="kn">import</span> <span class="nn">java.io.ObjectInputStream</span><span class="o">;</span>
</div><div id="l23" class="code_block"><span class="kn">import</span> <span class="nn">java.io.ObjectOutputStream</span><span class="o">;</span>
</div><div id="l24" class="code_block"><span class="kn">import</span> <span class="nn">java.io.Serializable</span><span class="o">;</span>
</div><div id="l25" class="code_block"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>
</div><div id="l26" class="code_block"><span class="kn">import</span> <span class="nn">java.util.logging.Level</span><span class="o">;</span>
</div><div id="l27" class="code_block"><span class="kn">import</span> <span class="nn">java.util.logging.Logger</span><span class="o">;</span>
</div><div id="l28" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.Key</span><span class="o">;</span>
</div><div id="l29" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.Ujo</span><span class="o">;</span>
</div><div id="l30" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.Validator</span><span class="o">;</span>
</div><div id="l31" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.core.KeyRing</span><span class="o">;</span>
</div><div id="l32" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.core.UjoComparator</span><span class="o">;</span>
</div><div id="l33" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.core.UjoManagerCSV</span><span class="o">;</span>
</div><div id="l34" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.criterion.*</span><span class="o">;</span>
</div><div id="l35" class="code_block"><span class="kn">import</span> <span class="nn">org.ujorm.validator.ValidationException</span><span class="o">;</span>
</div><div id="l36" class="code_block"><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">Company</span><span class="o">.</span><span class="na">CITY</span><span class="o">;</span>
</div><div id="l37" class="code_block"><span class="kn">import</span> <span class="nn">static</span> <span class="n">org</span><span class="o">.</span><span class="na">Employee</span><span class="o">.*;</span>
</div><div id="l38" class="code_block">
</div><div id="l39" class="code_block"><span class="cm">/**</span>
</div><div id="l40" class="code_block"><span class="cm"> * The tutorial in the class for the UJO CORE &lt;br&gt;</span>
</div><div id="l41" class="code_block"><span class="cm"> * ------------------------------------------ &lt;br&gt;</span>
</div><div id="l42" class="code_block"><span class="cm"> * Learn the basic skills in 15 minutes by a live Java code.</span>
</div><div id="l43" class="code_block"><span class="cm"> *</span>
</div><div id="l44" class="code_block"><span class="cm"> * Entities:</span>
</div><div id="l45" class="code_block"><span class="cm"> * &lt;ul&gt;</span>
</div><div id="l46" class="code_block"><span class="cm"> *   &lt;li&gt;{@link Employee} [id, name, wage, company]&lt;/li&gt;</span>
</div><div id="l47" class="code_block"><span class="cm"> *   &lt;li&gt;{@link Company} [id, name, city, created]&lt;/li&gt;</span>
</div><div id="l48" class="code_block"><span class="cm"> * &lt;/ul&gt;</span>
</div><div id="l49" class="code_block"><span class="cm"> *</span>
</div><div id="l50" class="code_block"><span class="cm"> * Copyright 2011-2014, Pavel Ponec</span>
</div><div id="l51" class="code_block"><span class="cm"> *</span>
</div><div id="l52" class="code_block"><span class="cm"> * @see Employee</span>
</div><div id="l53" class="code_block"><span class="cm"> * @see Company</span>
</div><div id="l54" class="code_block"><span class="cm"> */</span>
</div><div id="l55" class="code_block"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SampleCORE</span> <span class="o">{</span>
</div><div id="l56" class="code_block">
</div><div id="l57" class="code_block">    <span class="c1">// ======= TUTORIAL MENU: =======</span>
</div><div id="l58" class="code_block">
</div><div id="l59" class="code_block">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l60" class="code_block">        <span class="n">SampleCORE</span> <span class="n">sample</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SampleCORE</span><span class="o">();</span>
</div><div id="l61" class="code_block">
</div><div id="l62" class="code_block">        <span class="k">try</span> <span class="o">{</span>
</div><div id="l63" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">readWriteBean</span><span class="o">();</span>
</div><div id="l64" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">readWriteUjo</span><span class="o">();</span>
</div><div id="l65" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">defaultValues</span><span class="o">();</span>
</div><div id="l66" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">numericDefaultValues</span><span class="o">();</span>
</div><div id="l67" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">copyAttributes</span><span class="o">();</span>
</div><div id="l68" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">keyValidator</span><span class="o">();</span>
</div><div id="l69" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">localizedMessageOfValidator</span><span class="o">();</span>
</div><div id="l70" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">compositeKey</span><span class="o">();</span>
</div><div id="l71" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">theCriterion</span><span class="o">();</span>
</div><div id="l72" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">criterionAsFilter</span><span class="o">();</span>
</div><div id="l73" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">criterionAsFilterWithKey</span><span class="o">();</span>
</div><div id="l74" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">sortEmployeeList</span><span class="o">();</span>
</div><div id="l75" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">keySerialization</span><span class="o">();</span>
</div><div id="l76" class="code_block">            <span class="n">sample</span><span class="o">.</span><span class="na">importCSV</span><span class="o">();</span>
</div><div id="l77" class="code_block">
</div><div id="l78" class="code_block">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l79" class="code_block">            <span class="n">Logger</span><span class="o">.</span><span class="na">getLogger</span><span class="o">(</span><span class="n">SampleCORE</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">()).</span><span class="na">log</span><span class="o">(</span><span class="n">Level</span><span class="o">.</span><span class="na">SEVERE</span><span class="o">,</span> <span class="s">"Sample CORE"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
</div><div id="l80" class="code_block">            <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalStateException</span><span class="o">(</span><span class="s">"Sample CORE"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
</div><div id="l81" class="code_block">        <span class="o">}</span>
</div><div id="l82" class="code_block">    <span class="o">}</span>
</div><div id="l83" class="code_block">
</div><div id="l84" class="code_block">    <span class="c1">// ======= CHAPTERS: =======</span>
</div><div id="l85" class="code_block">
</div><div id="l86" class="code_block">    <span class="cm">/** See a common data access for the JavaBean object */</span>
</div><div id="l87" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">readWriteBean</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l88" class="code_block">        <span class="n">Employee</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>
</div><div id="l89" class="code_block">
</div><div id="l90" class="code_block">        <span class="c1">// Write:</span>
</div><div id="l91" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="mi">7L</span><span class="o">);</span>
</div><div id="l92" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Pavel"</span><span class="o">);</span>
</div><div id="l93" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">setWage</span><span class="o">(</span><span class="mf">20.00</span><span class="o">);</span>
</div><div id="l94" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">setCompany</span><span class="o">(</span><span class="k">new</span> <span class="n">Company</span><span class="o">());</span>
</div><div id="l95" class="code_block">
</div><div id="l96" class="code_block">        <span class="c1">// Read:</span>
</div><div id="l97" class="code_block">        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">getId</span><span class="o">();</span>
</div><div id="l98" class="code_block">        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
</div><div id="l99" class="code_block">        <span class="kt">double</span> <span class="n">wage</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">getWage</span><span class="o">();</span>
</div><div id="l100" class="code_block">        <span class="n">Company</span> <span class="n">company</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">getCompany</span><span class="o">();</span>
</div><div id="l101" class="code_block">
</div><div id="l102" class="code_block">        <span class="k">assert</span> <span class="n">id</span> <span class="o">==</span> <span class="mi">7L</span><span class="o">;</span>
</div><div id="l103" class="code_block">        <span class="k">assert</span> <span class="n">name</span> <span class="o">==</span> <span class="s">"Pavel"</span><span class="o">;</span>
</div><div id="l104" class="code_block">        <span class="k">assert</span> <span class="n">wage</span> <span class="o">==</span> <span class="mf">20.00</span><span class="o">;</span>
</div><div id="l105" class="code_block">        <span class="k">assert</span> <span class="n">company</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l106" class="code_block">    <span class="o">}</span>
</div><div id="l107" class="code_block">
</div><div id="l108" class="code_block">    <span class="cm">/** See a data access using API of the {@link Ujo} object */</span>
</div><div id="l109" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">readWriteUjo</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l110" class="code_block">        <span class="n">Employee</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>
</div><div id="l111" class="code_block">
</div><div id="l112" class="code_block">        <span class="c1">// Write:</span>
</div><div id="l113" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">ID</span><span class="o">,</span> <span class="mi">7L</span><span class="o">);</span>
</div><div id="l114" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">NAME</span><span class="o">,</span> <span class="s">"Pavel"</span><span class="o">);</span>
</div><div id="l115" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">WAGE</span><span class="o">,</span> <span class="mf">20.00</span><span class="o">);</span>
</div><div id="l116" class="code_block">        <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">COMPANY</span><span class="o">,</span> <span class="k">new</span> <span class="n">Company</span><span class="o">());</span>
</div><div id="l117" class="code_block">
</div><div id="l118" class="code_block">        <span class="c1">// Read:</span>
</div><div id="l119" class="code_block">        <span class="n">Long</span> <span class="n">id</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">ID</span><span class="o">);</span>
</div><div id="l120" class="code_block">        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">NAME</span><span class="o">);</span>
</div><div id="l121" class="code_block">        <span class="kt">double</span> <span class="n">wage</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">WAGE</span><span class="o">);</span> <span class="c1">// result is not never null due the default value</span>
</div><div id="l122" class="code_block">        <span class="n">Company</span> <span class="n">company</span> <span class="o">=</span> <span class="n">person</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">COMPANY</span><span class="o">);</span>
</div><div id="l123" class="code_block">
</div><div id="l124" class="code_block">        <span class="k">assert</span> <span class="n">id</span> <span class="o">==</span> <span class="mi">7L</span><span class="o">;</span>
</div><div id="l125" class="code_block">        <span class="k">assert</span> <span class="n">name</span> <span class="o">==</span> <span class="s">"Pavel"</span><span class="o">;</span>
</div><div id="l126" class="code_block">        <span class="k">assert</span> <span class="n">wage</span> <span class="o">==</span> <span class="mf">20.00</span><span class="o">;</span>
</div><div id="l127" class="code_block">        <span class="k">assert</span> <span class="n">company</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l128" class="code_block">
</div><div id="l129" class="code_block">        <span class="c1">// === Code sample where the compiler fails: ===</span>
</div><div id="l130" class="code_block">        <span class="c1">// person.set(Company.ID, 7L);  // Key from another domain is not allowed</span>
</div><div id="l131" class="code_block">        <span class="c1">// person.set(Employee.ID, "Pavel");    // Wrong data type of the argument value</span>
</div><div id="l132" class="code_block">        <span class="c1">// String id = person.get(Employee.ID); // Wrong return class</span>
</div><div id="l133" class="code_block">    <span class="o">}</span>
</div><div id="l134" class="code_block">
</div><div id="l135" class="code_block">    <span class="cm">/** How to restore default values? */</span>
</div><div id="l136" class="code_block">    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
</div><div id="l137" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">defaultValues</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l138" class="code_block">        <span class="n">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getEmployee</span><span class="o">();</span>
</div><div id="l139" class="code_block">
</div><div id="l140" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Key</span> <span class="n">key</span> <span class="o">:</span> <span class="n">employee</span><span class="o">.</span><span class="na">readKeys</span><span class="o">())</span> <span class="o">{</span>
</div><div id="l141" class="code_block">            <span class="n">employee</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</div><div id="l142" class="code_block">        <span class="o">}</span>
</div><div id="l143" class="code_block">
</div><div id="l144" class="code_block">        <span class="k">assert</span> <span class="n">employee</span><span class="o">.</span><span class="na">getWage</span><span class="o">()</span> <span class="o">==</span> <span class="n">WAGE</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span> <span class="o">:</span> <span class="s">"Check the default value"</span><span class="o">;</span>
</div><div id="l145" class="code_block">    <span class="o">}</span>
</div><div id="l146" class="code_block">
</div><div id="l147" class="code_block">    <span class="cm">/** See how to restore a default value for all Numbers only.</span>
</div><div id="l148" class="code_block"><span class="cm">     * A type of the Key can be checked by the method {@link Key#isTypeOf(java.lang.Class) }.</span>
</div><div id="l149" class="code_block"><span class="cm">     */</span>
</div><div id="l150" class="code_block">    <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
</div><div id="l151" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">numericDefaultValues</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l152" class="code_block">        <span class="n">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getEmployee</span><span class="o">();</span>
</div><div id="l153" class="code_block">
</div><div id="l154" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Key</span> <span class="n">key</span> <span class="o">:</span> <span class="n">employee</span><span class="o">.</span><span class="na">readKeys</span><span class="o">())</span> <span class="o">{</span>
</div><div id="l155" class="code_block">            <span class="k">if</span> <span class="o">(</span><span class="n">key</span><span class="o">.</span><span class="na">isTypeOf</span><span class="o">(</span><span class="n">Number</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="o">{</span>
</div><div id="l156" class="code_block">                <span class="n">employee</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
</div><div id="l157" class="code_block">            <span class="o">}</span>
</div><div id="l158" class="code_block">        <span class="o">}</span>
</div><div id="l159" class="code_block">        <span class="k">assert</span> <span class="n">employee</span><span class="o">.</span><span class="na">getWage</span><span class="o">()</span> <span class="o">==</span> <span class="n">WAGE</span><span class="o">.</span><span class="na">getDefault</span><span class="o">()</span> <span class="o">:</span> <span class="s">"Check the default value"</span><span class="o">;</span>
</div><div id="l160" class="code_block">    <span class="o">}</span>
</div><div id="l161" class="code_block">
</div><div id="l162" class="code_block">    <span class="cm">/** How to copy all attributes from a source to a target object? */</span>
</div><div id="l163" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">copyAttributes</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</div><div id="l164" class="code_block">        <span class="n">Employee</span> <span class="n">source</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">getEmployee</span><span class="o">();</span>
</div><div id="l165" class="code_block">        <span class="n">Employee</span> <span class="n">target</span> <span class="o">=</span> <span class="n">source</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">newInstance</span><span class="o">();</span>
</div><div id="l166" class="code_block">
</div><div id="l167" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Key</span><span class="o">&lt;</span><span class="n">Ujo</span><span class="o">,?&gt;</span> <span class="n">key</span> <span class="o">:</span> <span class="n">source</span><span class="o">.</span><span class="na">readKeys</span><span class="o">())</span> <span class="o">{</span>
</div><div id="l168" class="code_block">            <span class="n">key</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">source</span><span class="o">,</span> <span class="n">target</span><span class="o">);</span>
</div><div id="l169" class="code_block">        <span class="o">}</span>
</div><div id="l170" class="code_block">
</div><div id="l171" class="code_block">        <span class="k">assert</span> <span class="n">source</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span> <span class="o">==</span> <span class="n">target</span><span class="o">.</span><span class="na">getId</span><span class="o">()</span>
</div><div id="l172" class="code_block">                <span class="o">:</span> <span class="s">"The same IDs"</span><span class="o">;</span>
</div><div id="l173" class="code_block">    <span class="o">}</span>
</div><div id="l174" class="code_block">
</div><div id="l175" class="code_block">    <span class="cm">/** There is a {@link Validator} class which checks an input data using the method</span>
</div><div id="l176" class="code_block"><span class="cm">     * {@link Validator#checkValue(java.lang.Object, org.ujorm.Key, org.ujorm.Ujo) checkValue(value ...)}</span>
</div><div id="l177" class="code_block"><span class="cm">     * to ensure an integration.</span>
</div><div id="l178" class="code_block"><span class="cm">     * &lt;h3&gt;Features:&lt;/h3&gt;</span>
</div><div id="l179" class="code_block"><span class="cm">     * &lt;ul&gt;</span>
</div><div id="l180" class="code_block"><span class="cm">     *    &lt;li&gt;two Validators can be joined using operator AND/OR to a new composite Validator&lt;/li&gt;</span>
</div><div id="l181" class="code_block"><span class="cm">     *    &lt;li&gt;one (composite) Validator can be assigned into an object type of {@link Key}&lt;/li&gt;</span>
</div><div id="l182" class="code_block"><span class="cm">     *    &lt;li&gt;the Validator can be assigned to the {@link Key} to check all input data in the &lt;strong&gt;writing time&lt;/strong&gt; always&lt;/li&gt;</span>
</div><div id="l183" class="code_block"><span class="cm">     * &lt;/ul&gt;</span>
</div><div id="l184" class="code_block"><span class="cm">     * The {@link Employee#NAME} has got allowed max 7 characters length.</span>
</div><div id="l185" class="code_block"><span class="cm">     * &lt;br/&gt;The key definition in the {@link Employee} class is:</span>
</div><div id="l186" class="code_block"><span class="cm">     * &lt;pre&gt;{@code public static final Key&lt;Employee, String&gt; NAME = factory.newKey(length(7));</span>
</div><div id="l187" class="code_block"><span class="cm">     *  }&lt;/pre&gt;</span>
</div><div id="l188" class="code_block"><span class="cm">     */</span>
</div><div id="l189" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">keyValidator</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l190" class="code_block">        <span class="kd">final</span> <span class="n">String</span> <span class="n">correctName</span> <span class="o">=</span> <span class="s">"1234567"</span><span class="o">;</span>
</div><div id="l191" class="code_block">        <span class="kd">final</span> <span class="n">String</span> <span class="n">wrongName</span> <span class="o">=</span> <span class="s">"12345678"</span><span class="o">;</span>
</div><div id="l192" class="code_block">
</div><div id="l193" class="code_block">        <span class="n">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>
</div><div id="l194" class="code_block">        <span class="n">employee</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">NAME</span><span class="o">,</span> <span class="n">correctName</span><span class="o">);</span>
</div><div id="l195" class="code_block">        <span class="k">try</span> <span class="o">{</span>
</div><div id="l196" class="code_block">            <span class="n">employee</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">NAME</span><span class="o">,</span> <span class="n">wrongName</span><span class="o">);</span>
</div><div id="l197" class="code_block">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ValidationException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l198" class="code_block">            <span class="n">String</span> <span class="n">expected</span>
</div><div id="l199" class="code_block">                    <span class="o">=</span> <span class="s">"Text length for Employee.name must be between 0 and 7, "</span>
</div><div id="l200" class="code_block">                    <span class="o">+</span> <span class="s">"but the input length is: 8"</span><span class="o">;</span>
</div><div id="l201" class="code_block">            <span class="k">assert</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">expected</span><span class="o">);</span>
</div><div id="l202" class="code_block">        <span class="o">}</span>
</div><div id="l203" class="code_block">        <span class="k">assert</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">==</span> <span class="n">correctName</span><span class="o">;</span>
</div><div id="l204" class="code_block">    <span class="o">}</span>
</div><div id="l205" class="code_block">
</div><div id="l206" class="code_block">    <span class="cm">/** Messages from validator can be located using the templates */</span>
</div><div id="l207" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">localizedMessageOfValidator</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l208" class="code_block">        <span class="kd">final</span> <span class="n">String</span> <span class="n">wrongName</span> <span class="o">=</span> <span class="s">"12345678"</span><span class="o">;</span>
</div><div id="l209" class="code_block">        <span class="n">ValidationException</span> <span class="n">exception</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l210" class="code_block">
</div><div id="l211" class="code_block">        <span class="k">try</span> <span class="o">{</span>
</div><div id="l212" class="code_block">            <span class="k">new</span> <span class="nf">Employee</span><span class="o">().</span><span class="na">set</span><span class="o">(</span><span class="n">NAME</span><span class="o">,</span> <span class="n">wrongName</span><span class="o">);</span>
</div><div id="l213" class="code_block">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ValidationException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l214" class="code_block">            <span class="n">exception</span> <span class="o">=</span> <span class="n">e</span><span class="o">;</span>
</div><div id="l215" class="code_block">        <span class="o">}</span>
</div><div id="l216" class="code_block">
</div><div id="l217" class="code_block">        <span class="n">String</span> <span class="n">template</span> <span class="o">=</span> <span class="s">"The name can be up to ${MAX} characters long, not ${LENGTH}."</span><span class="o">;</span>
</div><div id="l218" class="code_block">        <span class="n">String</span> <span class="n">expected</span> <span class="o">=</span> <span class="s">"The name can be up to 7 characters long, not 8."</span><span class="o">;</span>
</div><div id="l219" class="code_block">        <span class="n">String</span> <span class="n">result</span> <span class="o">=</span> <span class="n">exception</span><span class="o">.</span><span class="na">getError</span><span class="o">().</span><span class="na">getMessage</span><span class="o">(</span><span class="n">template</span><span class="o">);</span>
</div><div id="l220" class="code_block">        <span class="k">assert</span> <span class="n">expected</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">result</span><span class="o">);</span>
</div><div id="l221" class="code_block">    <span class="o">}</span>
</div><div id="l222" class="code_block">
</div><div id="l223" class="code_block">    <span class="cm">/** Two related keys can be joined to the new {@link Key} instance by the method {@link Key#add(org.ujorm.Key)}.</span>
</div><div id="l224" class="code_block"><span class="cm">     * A CompositeKey can be used to reading and writing attributes of related domain objects,</span>
</div><div id="l225" class="code_block"><span class="cm">     * however the setter with the CompositeKey &lt;create&gt;creates&lt;/create&gt; missing domain relations automatically.</span>
</div><div id="l226" class="code_block"><span class="cm">     */</span>
</div><div id="l227" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">compositeKey</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l228" class="code_block">        <span class="n">Key</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">companyNameKey</span> <span class="o">=</span> <span class="n">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">NAME</span><span class="o">);</span>
</div><div id="l229" class="code_block">
</div><div id="l230" class="code_block">        <span class="n">Employee</span> <span class="n">employee</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>
</div><div id="l231" class="code_block">        <span class="n">String</span> <span class="n">companyName</span> <span class="o">=</span> <span class="n">employee</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">companyNameKey</span><span class="o">);</span> <span class="c1">//!</span>
</div><div id="l232" class="code_block">        <span class="k">assert</span> <span class="n">companyName</span> <span class="o">==</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l233" class="code_block">
</div><div id="l234" class="code_block">        <span class="n">employee</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">companyNameKey</span><span class="o">,</span> <span class="s">"Prague"</span><span class="o">);</span> <span class="c1">//!</span>
</div><div id="l235" class="code_block">        <span class="n">companyName</span> <span class="o">=</span> <span class="n">employee</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">companyNameKey</span><span class="o">);</span>
</div><div id="l236" class="code_block">
</div><div id="l237" class="code_block">        <span class="k">assert</span> <span class="n">employee</span><span class="o">.</span><span class="na">getCompany</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l238" class="code_block">        <span class="k">assert</span> <span class="n">companyName</span> <span class="o">==</span> <span class="s">"Prague"</span><span class="o">;</span>
</div><div id="l239" class="code_block">    <span class="o">}</span>
</div><div id="l240" class="code_block">
</div><div id="l241" class="code_block">    <span class="cm">/** Employee theCriterion example */</span>
</div><div id="l242" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">theCriterion</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l243" class="code_block">        <span class="n">Criterion</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">validator</span> <span class="o">=</span> <span class="n">Employee</span><span class="o">.</span><span class="na">WAGE</span><span class="o">.</span><span class="na">whereGt</span><span class="o">(</span><span class="mf">100.0</span><span class="o">);</span>
</div><div id="l244" class="code_block">        <span class="k">try</span> <span class="o">{</span>
</div><div id="l245" class="code_block">            <span class="n">validator</span><span class="o">.</span><span class="na">validate</span><span class="o">(</span><span class="n">service</span><span class="o">.</span><span class="na">getEmployee</span><span class="o">()</span>
</div><div id="l246" class="code_block">                    <span class="o">,</span> <span class="s">"Minimal WAGE is: %s units"</span>
</div><div id="l247" class="code_block">                    <span class="o">,</span> <span class="n">validator</span><span class="o">.</span><span class="na">getRightNode</span><span class="o">());</span>
</div><div id="l248" class="code_block">            <span class="k">assert</span> <span class="kc">false</span> <span class="o">:</span> <span class="n">Employee</span><span class="o">.</span><span class="na">WAGE</span> <span class="o">+</span> <span class="s">" is not valid"</span><span class="o">;</span>
</div><div id="l249" class="code_block">        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l250" class="code_block">            <span class="k">assert</span> <span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">()</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">;</span>
</div><div id="l251" class="code_block">        <span class="o">}</span>
</div><div id="l252" class="code_block">    <span class="o">}</span>
</div><div id="l253" class="code_block">
</div><div id="l254" class="code_block">    <span class="cm">/** Filter all employees, where a city name of a company equals employee name. */</span>
</div><div id="l255" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">criterionAsFilter</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l256" class="code_block">        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">employees</span> <span class="o">=</span> <span class="n">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">CITY</span><span class="o">)</span>
</div><div id="l257" class="code_block">                <span class="o">.</span><span class="na">whereEq</span><span class="o">(</span><span class="s">"Prague"</span><span class="o">)</span>
</div><div id="l258" class="code_block">                <span class="o">.</span><span class="na">evaluate</span><span class="o">(</span><span class="n">service</span><span class="o">.</span><span class="na">getEmployees</span><span class="o">());</span>
</div><div id="l259" class="code_block">
</div><div id="l260" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Employee</span> <span class="n">employee</span> <span class="o">:</span> <span class="n">employees</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l261" class="code_block">            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">employee</span><span class="o">.</span><span class="na">getCompany</span><span class="o">().</span><span class="na">getCity</span><span class="o">()</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</div><div id="l262" class="code_block">        <span class="o">}</span>
</div><div id="l263" class="code_block">        <span class="k">assert</span> <span class="n">employees</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">4</span><span class="o">;</span>
</div><div id="l264" class="code_block">    <span class="o">}</span>
</div><div id="l265" class="code_block">
</div><div id="l266" class="code_block">    <span class="cm">/** Filter all employees, where a &lt;strong&gt;company.city&lt;/strong&gt; equals to the &lt;strong&gt;employee's name&lt;/strong&gt;.</span>
</div><div id="l267" class="code_block"><span class="cm">     * Note: the result if Employee's name is 'Prague'. */</span>
</div><div id="l268" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">criterionAsFilterWithKey</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l269" class="code_block">        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">employees</span> <span class="o">=</span> <span class="n">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">CITY</span><span class="o">)</span>
</div><div id="l270" class="code_block">                <span class="o">.</span><span class="na">whereEq</span><span class="o">(</span><span class="n">Employee</span><span class="o">.</span><span class="na">NAME</span><span class="o">)</span> <span class="c1">// The employee NAME can be a correct value of the Criterion</span>
</div><div id="l271" class="code_block">                <span class="o">.</span><span class="na">evaluate</span><span class="o">(</span><span class="n">service</span><span class="o">.</span><span class="na">getEmployees</span><span class="o">());</span>
</div><div id="l272" class="code_block">
</div><div id="l273" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Employee</span> <span class="n">employee</span> <span class="o">:</span> <span class="n">employees</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l274" class="code_block">            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">employee</span><span class="o">.</span><span class="na">getCompany</span><span class="o">().</span><span class="na">getCity</span><span class="o">()</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</div><div id="l275" class="code_block">        <span class="o">}</span>
</div><div id="l276" class="code_block">
</div><div id="l277" class="code_block">        <span class="k">assert</span> <span class="n">employees</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">:</span> <span class="s">"Check the result count"</span><span class="o">;</span>
</div><div id="l278" class="code_block">        <span class="k">assert</span> <span class="n">employees</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Prague"</span><span class="o">)</span> <span class="o">:</span> <span class="s">"Check the result value"</span><span class="o">;</span>
</div><div id="l279" class="code_block">    <span class="o">}</span>
</div><div id="l280" class="code_block">
</div><div id="l281" class="code_block">    <span class="cm">/** How to sort the List?  */</span>
</div><div id="l282" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">sortEmployeeList</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l283" class="code_block">        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">employees</span> <span class="o">=</span> <span class="n">UjoComparator</span><span class="o">.</span><span class="na">of</span>
</div><div id="l284" class="code_block">                <span class="o">(</span> <span class="n">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">CITY</span><span class="o">)</span>
</div><div id="l285" class="code_block">                <span class="o">,</span> <span class="n">NAME</span><span class="o">.</span><span class="na">descending</span><span class="o">()</span>
</div><div id="l286" class="code_block">                <span class="o">).</span><span class="na">sort</span><span class="o">(</span><span class="n">service</span><span class="o">.</span><span class="na">getEmployees</span><span class="o">());</span>
</div><div id="l287" class="code_block">
</div><div id="l288" class="code_block">        <span class="k">for</span> <span class="o">(</span><span class="n">Employee</span> <span class="n">employee</span> <span class="o">:</span> <span class="n">employees</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l289" class="code_block">            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">employee</span><span class="o">.</span><span class="na">getCompany</span><span class="o">().</span><span class="na">getCity</span><span class="o">()</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</div><div id="l290" class="code_block">        <span class="o">}</span>
</div><div id="l291" class="code_block">
</div><div id="l292" class="code_block">        <span class="k">assert</span> <span class="n">employees</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">4</span> <span class="o">:</span> <span class="s">"Check the result count"</span><span class="o">;</span>
</div><div id="l293" class="code_block">    <span class="o">}</span>
</div><div id="l294" class="code_block">
</div><div id="l295" class="code_block">    <span class="cm">/** Each direct Key has an unique instance in a class-loader,</span>
</div><div id="l296" class="code_block"><span class="cm">     * similar like an item of the {@link Enum} type.</span>
</div><div id="l297" class="code_block"><span class="cm">     * For the serialization use a {@link KeyRing} envelope.</span>
</div><div id="l298" class="code_block"><span class="cm">     */</span>
</div><div id="l299" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">keySerialization</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l300" class="code_block">        <span class="kd">final</span> <span class="n">KeyRing</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">keyRing1</span><span class="o">,</span> <span class="n">keyRing2</span><span class="o">;</span>
</div><div id="l301" class="code_block">        <span class="n">keyRing1</span> <span class="o">=</span> <span class="n">KeyRing</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Employee</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span> <span class="n">Employee</span><span class="o">.</span><span class="na">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">NAME</span><span class="o">));</span>
</div><div id="l302" class="code_block">        <span class="n">keyRing2</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="na">serialize</span><span class="o">(</span><span class="n">keyRing1</span><span class="o">);</span>
</div><div id="l303" class="code_block">
</div><div id="l304" class="code_block">        <span class="k">assert</span> <span class="n">keyRing1</span> <span class="o">!=</span> <span class="n">keyRing2</span> <span class="o">:</span> <span class="s">"Different instances"</span><span class="o">;</span>
</div><div id="l305" class="code_block">        <span class="k">assert</span> <span class="n">keyRing1</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">==</span> <span class="n">keyRing2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">)</span> <span class="o">:</span> <span class="s">"The same direct keys"</span><span class="o">;</span>
</div><div id="l306" class="code_block">        <span class="k">assert</span> <span class="n">keyRing1</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">).</span><span class="na">equals</span><span class="o">(</span><span class="n">keyRing2</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">1</span><span class="o">))</span> <span class="o">:</span> <span class="s">"The equal composite keys"</span><span class="o">;</span>
</div><div id="l307" class="code_block">        <span class="k">assert</span> <span class="k">new</span> <span class="nf">Employee</span><span class="o">().</span><span class="na">readKeys</span><span class="o">()</span> <span class="k">instanceof</span> <span class="n">KeyRing</span> <span class="o">:</span> <span class="s">"readKeys() returns the KeyRing"</span><span class="o">;</span>
</div><div id="l308" class="code_block">    <span class="o">}</span>
</div><div id="l309" class="code_block">
</div><div id="l310" class="code_block">    <span class="cm">/** Import the CSV file using a Composite Keys from the file content:</span>
</div><div id="l311" class="code_block"><span class="cm">     * &lt;pre&gt;{@code id;name;companyId</span>
</div><div id="l312" class="code_block"><span class="cm">     * 1;Pavel;10</span>
</div><div id="l313" class="code_block"><span class="cm">     * 2;Petr;30</span>
</div><div id="l314" class="code_block"><span class="cm">     * 3;Kamil;50}&lt;/pre&gt;</span>
</div><div id="l315" class="code_block"><span class="cm">     */</span>
</div><div id="l316" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">importCSV</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
</div><div id="l317" class="code_block">        <span class="n">Scanner</span> <span class="n">scanner</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Scanner</span><span class="o">(</span><span class="n">getClass</span><span class="o">().</span><span class="na">getResourceAsStream</span><span class="o">(</span><span class="s">"employee.csv"</span><span class="o">),</span> <span class="s">"utf-8"</span><span class="o">);</span>
</div><div id="l318" class="code_block">        <span class="n">UjoManagerCSV</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">manager</span> <span class="o">=</span> <span class="n">UjoManagerCSV</span><span class="o">.</span><span class="na">of</span>
</div><div id="l319" class="code_block">                <span class="o">(</span> <span class="n">Employee</span><span class="o">.</span><span class="na">ID</span>
</div><div id="l320" class="code_block">                <span class="o">,</span> <span class="n">Employee</span><span class="o">.</span><span class="na">NAME</span>
</div><div id="l321" class="code_block">                <span class="o">,</span> <span class="n">Employee</span><span class="o">.</span><span class="na">COMPANY</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">ID</span><span class="o">)</span>
</div><div id="l322" class="code_block">                <span class="o">);</span>
</div><div id="l323" class="code_block">        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">employes</span> <span class="o">=</span> <span class="n">manager</span><span class="o">.</span><span class="na">loadCSV</span><span class="o">(</span><span class="n">scanner</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
</div><div id="l324" class="code_block">
</div><div id="l325" class="code_block">        <span class="k">assert</span> <span class="n">employes</span><span class="o">.</span><span class="na">size</span><span class="o">()</span> <span class="o">==</span> <span class="mi">3</span><span class="o">;</span>
</div><div id="l326" class="code_block">        <span class="k">assert</span> <span class="n">employes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getId</span><span class="o">()</span> <span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="mi">1L</span><span class="o">);</span>
</div><div id="l327" class="code_block">        <span class="k">assert</span> <span class="n">employes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getName</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="s">"Pavel"</span><span class="o">);</span>
</div><div id="l328" class="code_block">        <span class="k">assert</span> <span class="n">employes</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getCompany</span><span class="o">().</span><span class="na">getId</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="mi">10L</span><span class="o">);</span>
</div><div id="l329" class="code_block">    <span class="o">}</span>
</div><div id="l330" class="code_block">
</div><div id="l331" class="code_block">    <span class="cm">/** Samples of WeakKey using are located in a separated class. */</span>
</div><div id="l332" class="code_block">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">howToUseWeakKey</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l333" class="code_block">        <span class="k">new</span> <span class="nf">SampleWeakKeyService</span><span class="o">().</span><span class="na">testWeakKeys2List</span><span class="o">();</span>
</div><div id="l334" class="code_block">        <span class="k">new</span> <span class="nf">SampleWeakKeyService</span><span class="o">().</span><span class="na">testWeakKeys2Map</span><span class="o">();</span>
</div><div id="l335" class="code_block">        <span class="k">new</span> <span class="nf">SampleWeakKeyService</span><span class="o">().</span><span class="na">testWeakKeyAttributes</span><span class="o">();</span>
</div><div id="l336" class="code_block">    <span class="o">}</span>
</div><div id="l337" class="code_block">
</div><div id="l338" class="code_block">    <span class="c1">// ===========- HELPER CODE ===========-</span>
</div><div id="l339" class="code_block">
</div><div id="l340" class="code_block">    <span class="cm">/** Helper methods */</span>
</div><div id="l341" class="code_block">    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Service</span> <span class="n">service</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Service</span><span class="o">();</span>
</div><div id="l342" class="code_block">
</div><div id="l343" class="code_block">    <span class="cm">/** Helper methods */</span>
</div><div id="l344" class="code_block">    <span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Service</span> <span class="o">{</span>
</div><div id="l345" class="code_block">
</div><div id="l346" class="code_block">        <span class="cm">/** Find an Employee somewhere */</span>
</div><div id="l347" class="code_block">        <span class="kd">private</span> <span class="n">Employee</span> <span class="nf">getEmployee</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l348" class="code_block">            <span class="k">return</span> <span class="nf">createEmployee</span><span class="o">(</span><span class="mi">10L</span><span class="o">,</span> <span class="s">"Pavel"</span><span class="o">,</span> <span class="mf">50.00</span><span class="o">,</span> <span class="n">getCompany</span><span class="o">());</span>
</div><div id="l349" class="code_block">        <span class="o">}</span>
</div><div id="l350" class="code_block">
</div><div id="l351" class="code_block">        <span class="cm">/** Create the List of Persons */</span>
</div><div id="l352" class="code_block">        <span class="kd">private</span> <span class="n">Employee</span> <span class="nf">createEmployee</span><span class="o">(</span><span class="n">Long</span> <span class="n">id</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">Double</span> <span class="n">wage</span><span class="o">,</span> <span class="n">Company</span> <span class="n">company</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l353" class="code_block">            <span class="n">Employee</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Employee</span><span class="o">();</span>
</div><div id="l354" class="code_block">            <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">ID</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
</div><div id="l355" class="code_block">            <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">NAME</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
</div><div id="l356" class="code_block">            <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">WAGE</span><span class="o">,</span> <span class="n">wage</span><span class="o">);</span>
</div><div id="l357" class="code_block">            <span class="n">person</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">COMPANY</span><span class="o">,</span> <span class="n">company</span><span class="o">);</span>
</div><div id="l358" class="code_block">            <span class="k">return</span> <span class="n">person</span><span class="o">;</span>
</div><div id="l359" class="code_block">        <span class="o">}</span>
</div><div id="l360" class="code_block">
</div><div id="l361" class="code_block">        <span class="cm">/** Find an Company somewhere */</span>
</div><div id="l362" class="code_block">        <span class="kd">private</span> <span class="n">Company</span> <span class="nf">getCompany</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l363" class="code_block">            <span class="k">return</span> <span class="nf">createCompany</span><span class="o">(</span><span class="mi">20L</span><span class="o">,</span> <span class="s">"My Company"</span><span class="o">,</span> <span class="s">"Prague"</span><span class="o">);</span>
</div><div id="l364" class="code_block">        <span class="o">}</span>
</div><div id="l365" class="code_block">
</div><div id="l366" class="code_block">        <span class="cm">/** Find an Company somewhere */</span>
</div><div id="l367" class="code_block">        <span class="kd">private</span> <span class="n">Company</span> <span class="nf">createCompany</span><span class="o">(</span><span class="n">Long</span> <span class="n">id</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="n">String</span> <span class="n">city</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l368" class="code_block">            <span class="n">Company</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Company</span><span class="o">();</span>
</div><div id="l369" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">ID</span><span class="o">,</span> <span class="n">id</span><span class="o">);</span>
</div><div id="l370" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">NAME</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
</div><div id="l371" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">CITY</span><span class="o">,</span> <span class="n">city</span><span class="o">);</span>
</div><div id="l372" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Company</span><span class="o">.</span><span class="na">CREATED</span><span class="o">,</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span>
</div><div id="l373" class="code_block">
</div><div id="l374" class="code_block">            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
</div><div id="l375" class="code_block">        <span class="o">}</span>
</div><div id="l376" class="code_block">
</div><div id="l377" class="code_block">        <span class="cm">/** Create the List of Persons */</span>
</div><div id="l378" class="code_block">        <span class="kd">private</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="nf">getEmployees</span><span class="o">()</span> <span class="o">{</span>
</div><div id="l379" class="code_block">            <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;();</span>
</div><div id="l380" class="code_block">
</div><div id="l381" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">createEmployee</span><span class="o">(</span><span class="mi">10L</span><span class="o">,</span> <span class="s">"Pavel"</span><span class="o">,</span> <span class="mf">50.00</span><span class="o">,</span> <span class="n">getCompany</span><span class="o">()));</span>
</div><div id="l382" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">createEmployee</span><span class="o">(</span><span class="mi">20L</span><span class="o">,</span> <span class="s">"Petr"</span><span class="o">,</span> <span class="mf">80.00</span><span class="o">,</span> <span class="n">getCompany</span><span class="o">()));</span>
</div><div id="l383" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">createEmployee</span><span class="o">(</span><span class="mi">30L</span><span class="o">,</span> <span class="s">"Kamil"</span><span class="o">,</span> <span class="mf">20.00</span><span class="o">,</span> <span class="n">getCompany</span><span class="o">()));</span>
</div><div id="l384" class="code_block">            <span class="n">result</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">createEmployee</span><span class="o">(</span><span class="mi">40L</span><span class="o">,</span> <span class="s">"Prague"</span><span class="o">,</span> <span class="mf">00.00</span><span class="o">,</span> <span class="n">getCompany</span><span class="o">()));</span>
</div><div id="l385" class="code_block">
</div><div id="l386" class="code_block">            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
</div><div id="l387" class="code_block">        <span class="o">}</span>
</div><div id="l388" class="code_block">
</div><div id="l389" class="code_block">        <span class="cm">/** Object serialization */</span>
</div><div id="l390" class="code_block">        <span class="nd">@SuppressWarnings</span><span class="o">(</span><span class="s">"unchecked"</span><span class="o">)</span>
</div><div id="l391" class="code_block">        <span class="kd">private</span> <span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Serializable</span><span class="o">&gt;</span> <span class="n">T</span> <span class="n">serialize</span><span class="o">(</span><span class="n">T</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l392" class="code_block">            <span class="k">try</span> <span class="o">{</span>
</div><div id="l393" class="code_block">                <span class="n">ByteArrayOutputStream</span> <span class="n">os</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayOutputStream</span><span class="o">(</span><span class="mi">1000</span><span class="o">);</span>
</div><div id="l394" class="code_block">                <span class="n">ObjectOutputStream</span> <span class="n">encoder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectOutputStream</span><span class="o">(</span><span class="n">os</span><span class="o">);</span>
</div><div id="l395" class="code_block">                <span class="n">encoder</span><span class="o">.</span><span class="na">writeObject</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>
</div><div id="l396" class="code_block">                <span class="n">encoder</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</div><div id="l397" class="code_block">
</div><div id="l398" class="code_block">                <span class="n">InputStream</span> <span class="n">is</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayInputStream</span><span class="o">(</span><span class="n">os</span><span class="o">.</span><span class="na">toByteArray</span><span class="o">());</span>
</div><div id="l399" class="code_block">                <span class="n">ObjectInputStream</span> <span class="n">decoder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ObjectInputStream</span><span class="o">(</span><span class="n">is</span><span class="o">);</span>
</div><div id="l400" class="code_block">                <span class="n">Object</span> <span class="n">result</span> <span class="o">=</span> <span class="o">(</span><span class="n">Serializable</span><span class="o">)</span> <span class="n">decoder</span><span class="o">.</span><span class="na">readObject</span><span class="o">();</span>
</div><div id="l401" class="code_block">                <span class="n">decoder</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
</div><div id="l402" class="code_block">
</div><div id="l403" class="code_block">                <span class="k">return</span> <span class="o">(</span><span class="n">T</span><span class="o">)</span> <span class="n">result</span><span class="o">;</span>
</div><div id="l404" class="code_block">            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
</div><div id="l405" class="code_block">                <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalStateException</span><span class="o">(</span><span class="s">"Serializaton error"</span><span class="o">,</span> <span class="n">e</span><span class="o">);</span>
</div><div id="l406" class="code_block">            <span class="o">}</span>
</div><div id="l407" class="code_block">        <span class="o">}</span>
</div><div id="l408" class="code_block">    <span class="o">}</span>
</div><div id="l409" class="code_block"><span class="o">}</span>
</div></pre></div>
</td></tr></tbody></table>

    </div>


          </div>


        </div>

      </div>
    </section>

<footer id="site-footer">
    <div class="wrapper">
        <nav>
            <h5>SourceForge</h5>
            <a href="http://sourceforge.net/about">About</a>
            <a href="http://sourceforge.net/blog/category/sitestatus/">Site Status</a>
            <a href="http://twitter.com/sfnet_ops">@sfnet_ops</a>
            <a id="allura-notice" href="https://forge-allura.apache.org/p/allura/">Powered by Allura</a>
        </nav>
        <nav>
            <h5>Find and Develop Software</h5>
            <a href="http://sourceforge.net/create/">Create a Project</a>
            <a href="http://sourceforge.net/directory/">Software Directory</a>
            <a href="http://sourceforge.net/top">Top Downloaded Projects</a>
        </nav>
        <nav>
            <h5>Community</h5>
            <a href="http://sourceforge.net/blog/">Blog</a>
            <a href="http://twitter.com/sourceforge">@sourceforge</a>
            <a href="http://sourceforge.net/jobs?source=footer">Job Board</a>
            <a href="http://library.slashdotmedia.com/?source=sfnet_footer">Resources</a>
        </nav>
        <nav>
            <h5>Help</h5>
            <a href="http://p.sf.net/sourceforge/docs">Site Documentation</a>
            <a href="http://sourceforge.net/support">Support Request</a>
            <a href="http://p.sf.net/sourceforge/irc">Real-Time Support</a>
        </nav>
    </div>
</footer>
<footer id="site-copyright-footer">
    <div class="wrapper">
        <div id="copyright">
            Copyright Â© 2014 SourceForge. All Rights Reserved.<br>
            SourceForge is a <a href="http://www.diceholdingsinc.com/phoenix.zhtml?c=211152&amp;p=irol-landing">Dice Holdings, Inc.</a> company.
        </div>
        <nav>
            <a href="http://slashdotmedia.com/terms-of-use">Terms</a>
            <a href="http://slashdotmedia.com/privacy-statement/">Privacy</a>
            <span id="teconsent"><a style="cursor: pointer;" id="icon-id035306743610979574">Cookie Preferences</a></span>
            <a href="http://slashdotmedia.com/opt-out-choices">Opt Out Choices</a>
            <a href="http://slashdotmedia.com/">Advertise</a>
            <a href="http://sourceforge.jp/">SourceForge.JP</a>
        </nav>
    </div>
</footer>
    <div style="position: fixed; top: 20px;" id="messages">

    </div>


      <!-- ew:body_js -->


      <script type="text/javascript" src="key-value-sample_files/js.asc"></script>


<!-- /ew:body_js -->



      <!-- ew:body_js_tail -->



<!-- /ew:body_js_tail -->




<script type="text/javascript" src="key-value-sample_files/spin.js"></script>
<script type="text/javascript">(function() {
  $('#access_urls .btn').click(function(evt){
    evt.preventDefault();
    var parent = $(this).parents('.btn-bar');
    $(parent).find('input').val($(this).attr('data-url'));
    $(parent).find('span').text($(this).attr('title')+' access');
    $(this).parent().children('.btn').removeClass('active');
    $(this).addClass('active');
  });
  $('#access_urls .btn').first().click();


  var repo_status = document.getElementById('repo_status');
  // The repo_status div will only be present if repo.status != 'ready'
  if (repo_status) {
    var opts = {
        lines: 9, // The number of lines to draw
        length: 4, // The length of each line
        width: 2, // The line thickness
        radius: 3, // The radius of the inner circle
        rotate: 0, // The rotation offset
        color: '#555', // #rgb or #rrggbb
        speed: 1, // Rounds per second
        trail: 60, // Afterglow percentage
        shadow: false, // Whether to render a shadow
        hwaccel: false, // Whether to use hardware acceleration
        className: 'spinner', // The CSS class to assign to the spinner
        zIndex: 2e9, // The z-index (defaults to 2000000000)
        top: 10, // Top position relative to parent in px
        left: 10 // Left position relative to parent in px
    };
    var spinner = new Spinner(opts).spin(repo_status);
    function check_status() {
        $.get('/p/ujoframework/svn/status', function(data) {
            if (data.status === 'ready') {
                window.clearInterval(status_checker);
                spinner.opts.speed = 0;
                spinner.opts.opacity = 1;
                spinner.spin(repo_status)
                $('#repo_status h2').html('Repo status: ready. <a href=".">Click here to refresh this page.</a>');
            }
            else {
                $('#repo_status h2 span').html(data.status);
            }
        });
    }
    // Check repo status every 15 seconds
    var status_checker = window.setInterval(check_status, 15000);

  }
}());
</script>

<script type="text/javascript">(function() {
  $(window).bind('hashchange', function(e) {
    var hash = window.location.hash.substring(1);
	if ('originalEvent' in e && 'oldURL' in e.originalEvent) {
      $('#' + e.originalEvent.oldURL.split('#')[1]).css('background-color', 'transparent');
	}
    if (hash !== '' && hash.substring(0, 1) === 'l' && !isNaN(hash.substring(1))) {
      $('#' + hash).css('background-color', '#ffff99');
    }
  }).trigger('hashchange');

  var clicks = 0;
  $('.code_block').each(function(index, element) {
    $(element).bind('click', function() {
      // Trick to ignore double and triple clicks
      clicks++;
      if (clicks == 1) {
        setTimeout(function() {
          if (clicks == 1) {
            var hash = window.location.hash.substring(1);
            if (hash !== '' && hash.substring(0, 1) === 'l' && !isNaN(hash.substring(1))) {
              $('#' + hash).css('background-color', 'transparent');
            }
            $(element).css('background-color', '#ffff99');
            window.location.href = '#' + $(element).attr('id');
          };
          clicks = 0;
        }, 500);
      };
    });
  });
}());
</script>

    <script src="key-value-sample_files/webtracker.js" type="text/javascript"></script>

</body></html>