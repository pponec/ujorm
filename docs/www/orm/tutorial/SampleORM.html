<html>
<head>
<title>SampleORM.java</title>
<style type="text/css"><!--

.syntax-NULL {
  color: #000000;
}
.syntax-COMMENT1 {
  color: #cc0000;
}
.syntax-COMMENT2 {
  color: #ff8400;
}
.syntax-COMMENT3 {
  color: #6600cc;
}
.syntax-COMMENT4 {
  color: #cc6600;
}
.syntax-DIGIT {
  color: #ff0000;
}
.syntax-FUNCTION {
  color: #9966ff;
}
.syntax-INVALID {
  background: #ffffcc;
  color: #ff0066;
}
.syntax-KEYWORD1 {
  color: #006699;
  font-weight: bold;
}
.syntax-KEYWORD2 {
  color: #009966;
  font-weight: bold;
}
.syntax-KEYWORD3 {
  color: #0099ff;
  font-weight: bold;
}
.syntax-KEYWORD4 {
  color: #66ccff;
  font-weight: bold;
}
.syntax-LABEL {
  color: #02b902;
}
.syntax-LITERAL1 {
  color: #ff00cc;
}
.syntax-LITERAL2 {
  color: #cc00cc;
}
.syntax-LITERAL3 {
  color: #9900cc;
}
.syntax-LITERAL4 {
  color: #6600cc;
}
.syntax-MARKUP {
  color: #0000ff;
}
.syntax-OPERATOR {
  color: #000000;
  font-weight: bold;
}

.gutter {
  background: #dbdbdb;
  color: #000000;
  border-right: 2px solid black ;
  margin-right: 5px ;
}
.gutterH {
  background: #dbdbdb;
  color: #990066;
  border-right: 2px solid black ; 
  margin-right: 5px ;
}

--></style>
</head>
<body bgcolor="#ffffff">
<pre><span class="syntax0"><span class="gutter">   1 </span><span class="syntax-COMMENT1">/*</span>
<span class="gutter">   2 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Copyright</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">2009-2022</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Pavel</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Ponec</span>
<span class="gutter">   3 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">   4 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Licensed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">under</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Apache</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Version</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">2.0</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">(the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;License&quot;);</span>
<span class="gutterH">   5 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">you</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">may</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">not</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">use</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">this</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">file</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">except</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">compliance</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">with</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License.</span>
<span class="gutter">   6 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">You</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">may</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">obtain</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">a</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">copy</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">of</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">at</span>
<span class="gutter">   7 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutter">   8 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="gutter">   9 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span>
<span class="gutterH">  10 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">Unless</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">required</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">by</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">applicable</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">law</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">or</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">agreed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">to</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">in</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">writing,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">software</span>
<span class="gutter">  11 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">distributed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">under</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">is</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">distributed</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">on</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">an</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">&quot;AS</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">IS&quot;</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">BASIS,</span>
<span class="gutter">  12 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">WITHOUT</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">WARRANTIES</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">OR</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">CONDITIONS</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">OF</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">ANY</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">KIND,</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">either</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">express</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">or</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">implied.</span>
<span class="gutter">  13 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">See</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">for</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">specific</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">language</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">governing</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">permissions</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">and</span>
<span class="gutter">  14 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">limitations</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">under</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">the</span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">License.</span>
<span class="gutterH">  15 </span><span class="syntax-COMMENT1"> </span><span class="syntax-COMMENT1">*/</span>
<span class="gutter">  16 </span>
<span class="gutter">  17 </span><span class="syntax-KEYWORD2">package</span> org.ujorm.orm_tutorial.sample;
<span class="gutter">  18 </span>
<span class="gutter">  19 </span><span class="syntax-KEYWORD2">import</span> java.util.ArrayList;
<span class="gutterH">  20 </span><span class="syntax-KEYWORD2">import</span> java.util.Date;
<span class="gutter">  21 </span><span class="syntax-KEYWORD2">import</span> java.util.List;
<span class="gutter">  22 </span><span class="syntax-KEYWORD2">import</span> java.util.logging.*;
<span class="gutter">  23 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.Key;
<span class="gutter">  24 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.Ujo;
<span class="gutterH">  25 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.core.UjoIterator;
<span class="gutter">  26 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.criterion.*;
<span class="gutter">  27 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.*;
<span class="gutter">  28 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.annot.Comment;
<span class="gutter">  29 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.dialect.DerbyDialect;
<span class="gutterH">  30 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.dialect.FirebirdDialect;
<span class="gutter">  31 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.metaModel.MetaColumn;
<span class="gutter">  32 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.metaModel.MetaParams;
<span class="gutter">  33 </span><span class="syntax-KEYWORD2">import</span> org.ujorm.orm.utility.OrmTools;
<span class="gutter">  34 </span><span class="syntax-KEYWORD2">import</span> <span class="syntax-KEYWORD2">static</span> org.ujorm.Checks.*;
<span class="gutterH">  35 </span><span class="syntax-KEYWORD2">import</span> <span class="syntax-KEYWORD2">static</span> org.ujorm.criterion.Operator.*;
<span class="gutter">  36 </span>
<span class="gutter">  37 </span><span class="syntax-COMMENT3">/**</span>
<span class="gutter">  38 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">tutorial</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">class</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Ujorm</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  39 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH">  40 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Learn</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">basic</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">skills</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">15</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">minutes</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">live</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Java</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">code</span><span class="syntax-COMMENT3">.</span>
<span class="gutter">  41 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">next</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">several</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">methods</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">demonstrate</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">statements</span><span class="syntax-COMMENT3">:</span>
<span class="gutter">  42 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">TABLE</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">INSERT</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SELECT</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">UPDATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">or</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">DELETE</span>
<span class="gutter">  43 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">show</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">how</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">meta</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">model</span><span class="syntax-COMMENT3">.</span>
<span class="gutter">  44 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span>
<span class="gutterH">  45 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Entities</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">pre</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  46 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">[</span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">NOTE</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATED</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">]</span>
<span class="gutter">  47 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">[</span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ORDER</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">NOTE</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">]</span>
<span class="gutter">  48 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">pre</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter">  49 </span>
<span class="gutterH">  50 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Copyright</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">2011</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Pavel</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Ponec</span>
<span class="gutter">  51 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span>
<span class="gutter">  52 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span>
<span class="gutter">  53 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span>
<span class="gutter">  54 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutterH">  55 </span><span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">class</span> SampleORM <span class="syntax-OPERATOR">{</span>
<span class="gutter">  56 </span>
<span class="gutter">  57 </span>    <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">-------</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">TUTORIAL</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">MENU:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">-------</span>
<span class="gutter">  58 </span>
<span class="gutter">  59 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD2">static</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">main</span><span class="syntax-OPERATOR">(</span>String[] args<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH">  60 </span>        SampleORM sample <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">SampleORM</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  61 </span>        <span class="syntax-KEYWORD1">try</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  62 </span>            sample.<span class="syntax-FUNCTION">createMetaModel</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  63 </span>            sample.<span class="syntax-FUNCTION">useInsert</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  64 </span>            sample.<span class="syntax-FUNCTION">useSelect</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  65 </span>            sample.<span class="syntax-FUNCTION">useBatchInsert</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  66 </span>            sample.<span class="syntax-FUNCTION">useCriterions</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  67 </span>            sample.<span class="syntax-FUNCTION">useSortOrders</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  68 </span>            sample.<span class="syntax-FUNCTION">useSortOrderItems</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  69 </span>            sample.<span class="syntax-FUNCTION">useSelectViewOrders</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  70 </span>            sample.<span class="syntax-FUNCTION">useSelectWithNativeSQL</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  71 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_1</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  72 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_2</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  73 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_3</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  74 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_4</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  75 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_5</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  76 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_5b</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  77 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_6</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  78 </span>            sample.<span class="syntax-FUNCTION">useSelectItems_7</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  79 </span>            sample.<span class="syntax-FUNCTION">useOptimizedSelect</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  80 </span>            sample.<span class="syntax-FUNCTION">useOneRequestLoading</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  81 </span>            sample.<span class="syntax-FUNCTION">useNativeCriterion</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  82 </span>            sample.<span class="syntax-FUNCTION">useReloading</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  83 </span>            sample.<span class="syntax-FUNCTION">useLimitAndOffset</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  84 </span>            sample.<span class="syntax-FUNCTION">useSelectCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  85 </span>            sample.<span class="syntax-FUNCTION">useForeignKey</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  86 </span>            sample.<span class="syntax-FUNCTION">useIteratorSkip</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  87 </span>            sample.<span class="syntax-FUNCTION">useRelation</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  88 </span>            sample.<span class="syntax-FUNCTION">useStoredProcedure</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  89 </span>            sample.<span class="syntax-FUNCTION">useUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  90 </span>            sample.<span class="syntax-FUNCTION">useBatchUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  91 </span>            sample.<span class="syntax-FUNCTION">useExtendedUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  92 </span>            sample.<span class="syntax-FUNCTION">usePesimisticUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  93 </span>            sample.<span class="syntax-FUNCTION">useDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  94 </span>            sample.<span class="syntax-FUNCTION">useBatchDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH">  95 </span>            sample.<span class="syntax-FUNCTION">useExtendedDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  96 </span>            sample.<span class="syntax-FUNCTION">useMetadata</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  97 </span>        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">finally</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter">  98 </span>            sample.<span class="syntax-FUNCTION">useCloseSession</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter">  99 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 100 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 101 </span>
<span class="gutter"> 102 </span>    <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">-------</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">CHAPTERS:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">-------</span>
<span class="gutter"> 103 </span>
<span class="gutter"> 104 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">handler</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">contains</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">or</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">more</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">meta</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">models</span><span class="syntax-COMMENT3">,</span>
<span class="gutterH"> 105 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">applicatin</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">can</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">have</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">more</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">OrmHandler</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">instances</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 106 </span>    <span class="syntax-KEYWORD2">private</span> OrmHandler handler;
<span class="gutter"> 107 </span>
<span class="gutter"> 108 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">session</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">contains</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">cache</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">connections</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 109 </span>    <span class="syntax-KEYWORD2">private</span> Session session;
<span class="gutterH"> 110 </span>
<span class="gutter"> 111 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Before</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">first</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">create</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">meta</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">model</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 112 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">tables</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">will</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">be</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATED</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">first</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">time</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 113 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 114 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">createMetaModel</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 115 </span>
<span class="gutter"> 116 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Set</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">log</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">level</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">specifying</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">which</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">message</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">levels</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">will</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">logged</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">by</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Ujorm:</span>
<span class="gutter"> 117 </span>        Logger.<span class="syntax-FUNCTION">getLogger</span><span class="syntax-OPERATOR">(</span>Ujo.<span class="syntax-KEYWORD3">class</span>.<span class="syntax-FUNCTION">getPackage</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">getName</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setLevel</span><span class="syntax-OPERATOR">(</span>Level.FINE<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 118 </span>
<span class="gutter"> 119 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Create</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">new</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">ORM</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Handler:</span>
<span class="gutterH"> 120 </span>        handler <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">OrmHandler</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 121 </span>
<span class="gutter"> 122 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">There</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">are</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">prefered</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">default</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">keys</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">for</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">production</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">environment:</span>
<span class="gutter"> 123 </span>        <span class="syntax-KEYWORD3">boolean</span> yesIWantToChangeDefaultParameters <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">true</span>;
<span class="gutter"> 124 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>yesIWantToChangeDefaultParameters<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 125 </span>            MetaParams params <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">MetaParams</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 126 </span>            params.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MetaParams.SEQUENCE_SCHEMA_SYMBOL, <span class="syntax-LITERAL2">true</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 127 </span>            params.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MetaParams.TABLE_ALIAS_SUFFIX, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">_alias</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 128 </span>            params.<span class="syntax-FUNCTION">setQuotedSqlNames</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 129 </span>            handler.<span class="syntax-FUNCTION">config</span><span class="syntax-OPERATOR">(</span>params<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 130 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 131 </span>
<span class="gutter"> 132 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Do</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">jou</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">need</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">load</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">an</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">external</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">confuguration</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">from</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">XML?</span>
<span class="gutter"> 133 </span>        <span class="syntax-KEYWORD3">boolean</span> yesIWantToLoadExternalConfig <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">false</span>;
<span class="gutter"> 134 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>yesIWantToLoadExternalConfig<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 135 </span>            java.net.URL config <span class="syntax-OPERATOR">=</span> <span class="syntax-FUNCTION">getClass</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">getResource</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">org</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">ujorm</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">orm</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">sample</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">config</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">xml</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 136 </span>            handler.<span class="syntax-FUNCTION">config</span><span class="syntax-OPERATOR">(</span>config, <span class="syntax-LITERAL2">true</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 137 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 138 </span>
<span class="gutter"> 139 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Load</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Meta-model</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">and</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lock</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">it</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">read-only</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">mode:</span>
<span class="gutterH"> 140 </span>        handler.<span class="syntax-FUNCTION">loadDatabase</span><span class="syntax-OPERATOR">(</span>Database.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 141 </span>
<span class="gutter"> 142 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Open</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">an</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">ORM</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">session</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(which</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">is</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">no</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">thread</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">safe):</span>
<span class="gutter"> 143 </span>        session <span class="syntax-OPERATOR">=</span> handler.<span class="syntax-FUNCTION">createSession</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 144 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 145 </span>
<span class="gutter"> 146 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Insert</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">two</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">into</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 147 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useInsert</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 148 </span>
<span class="gutter"> 149 </span>        Order order <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 150 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 151 </span>        order.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">My</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">order</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 152 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2">ORDER.setBinaryFile(&quot;binary&quot;.getBytes());</span>
<span class="gutter"> 153 </span>
<span class="gutter"> 154 </span>        Item item1 <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Item</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 155 </span>        item1.<span class="syntax-FUNCTION">setOrder</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 156 </span>        item1.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Yellow</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">table</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 157 </span>
<span class="gutter"> 158 </span>        Item item2 <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Item</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 159 </span>        item2.<span class="syntax-FUNCTION">setOrder</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 160 </span>        item2.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Green</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">window</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 161 </span>
<span class="gutter"> 162 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">order</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 163 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">item1</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item1<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 164 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">item2</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item2<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 165 </span>
<span class="gutter"> 166 </span>        <span class="syntax-KEYWORD2">final</span> Transaction tr <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">beginTransaction</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 167 </span>        session.<span class="syntax-FUNCTION">save</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 168 </span>        session.<span class="syntax-FUNCTION">save</span><span class="syntax-OPERATOR">(</span>item1<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 169 </span>        session.<span class="syntax-FUNCTION">save</span><span class="syntax-OPERATOR">(</span>item2<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 170 </span>
<span class="gutter"> 171 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD3">int</span> i <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>; i <span class="syntax-OPERATOR">&lt;</span> <span class="syntax-DIGIT">10</span>; i<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 172 </span>            Item item3 <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Item</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 173 </span>            item3.<span class="syntax-FUNCTION">setOrder</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 174 </span>            item3.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Green</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">window</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> i<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 175 </span>            session.<span class="syntax-FUNCTION">save</span><span class="syntax-OPERATOR">(</span>item3<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 176 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 177 </span>
<span class="gutter"> 178 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 179 </span>            tr.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 180 </span>        <span class="syntax-OPERATOR">}</span> <span class="syntax-KEYWORD1">else</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 181 </span>            tr.<span class="syntax-FUNCTION">rollback</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 182 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 183 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 184 </span>
<span class="gutterH"> 185 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Batch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">insert</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">multi</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">row</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">insert</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">statement</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 186 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useBatchInsert</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 187 </span>
<span class="gutter"> 188 </span>        Order order <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>Order.ID.<span class="syntax-FUNCTION">descending</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">uniqueResult</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 189 </span>        List<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> itemList <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> ArrayList<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 190 </span>
<span class="gutter"> 191 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD3">int</span> i <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0</span>; i <span class="syntax-OPERATOR">&lt;</span> <span class="syntax-DIGIT">3</span>; i<span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">+</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 192 </span>            Item item <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Item</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 193 </span>            item.<span class="syntax-FUNCTION">setOrder</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 194 </span>            item.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">number</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">#</span><span class="syntax-LITERAL1">i</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 195 </span>            itemList.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 196 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 197 </span>        session.<span class="syntax-FUNCTION">save</span><span class="syntax-OPERATOR">(</span>itemList<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 198 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 199 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 200 </span>
<span class="gutter"> 201 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Now</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">how</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Orders</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">from</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Criterions</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 202 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">generated</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SQL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">code</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">from</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">this</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">example</span>
<span class="gutter"> 203 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">will</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">be</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">similar</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">like</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">next</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">statement</span><span class="syntax-COMMENT3">:</span>
<span class="gutter"> 204 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">pre</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 205 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SELECT</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">FROM</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">item</span>
<span class="gutter"> 206 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">JOIN</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ON</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">order</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">id</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">=</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">item</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">id_order</span>
<span class="gutter"> 207 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">WHERE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">item</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">id</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">&gt;</span><span class="syntax-COMMENT3">=</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">1</span>
<span class="gutter"> 208 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">AND</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">item</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">LIKE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">%</span><span class="syntax-COMMENT3">table</span><span class="syntax-COMMENT3">%</span><span class="syntax-COMMENT3">'</span>
<span class="gutter"> 209 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">AND</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">order</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">=</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">My</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">order</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">;</span>
<span class="gutterH"> 210 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">pre</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 211 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">both</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">parameters</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">are</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">passed</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">question</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">mark</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">notation</span>
<span class="gutter"> 212 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">better</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">security</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 213 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 214 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelect</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 215 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> crn <span class="syntax-OPERATOR">=</span> Item.ID.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>GE, <span class="syntax-DIGIT">1L</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 216 </span>            .<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span> Item.NOTE.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>CONTAINS, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">table</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 217 </span>            .<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span> Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">whereEq</span><span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">My</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">order</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>
<span class="gutter"> 218 </span>            ;
<span class="gutter"> 219 </span>
<span class="gutterH"> 220 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crn<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 221 </span>            Date created <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getOrder</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">getCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading</span>
<span class="gutter"> 222 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">created</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> created<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 223 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 224 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 225 </span>
<span class="gutter"> 226 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Lern</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">how</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Criterion</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">as</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">simple</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">object</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">validator</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">only</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 227 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useCriterions</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 228 </span>
<span class="gutter"> 229 </span>        <span class="syntax-KEYWORD2">final</span> Order order <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 230 </span>        order.<span class="syntax-FUNCTION">setId</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">100L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 231 </span>        order.<span class="syntax-FUNCTION">setNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">my</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">order</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 232 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 233 </span>
<span class="gutter"> 234 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> crnId, crnNote, crnCreated, crn;
<span class="gutterH"> 235 </span>        crnId <span class="syntax-OPERATOR">=</span> Order.ID.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>GT, <span class="syntax-DIGIT">99L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 236 </span>        crnNote <span class="syntax-OPERATOR">=</span> Order.NOTE.<span class="syntax-FUNCTION">whereEq</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">another</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 237 </span>        crnCreated <span class="syntax-OPERATOR">=</span> Order.CREATED.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>LE, <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 238 </span>        crn <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">null</span>;
<span class="gutter"> 239 </span>
<span class="gutterH"> 240 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Simple</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">condition:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.ID&gt;99</span>
<span class="gutter"> 241 </span>        <span class="syntax-KEYWORD1">assert</span> crnId.<span class="syntax-FUNCTION">evaluate</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 242 </span>
<span class="gutter"> 243 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Compound</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">condition:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.ID&gt;99</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">or</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.NOTE='another'</span>
<span class="gutter"> 244 </span>        crn <span class="syntax-OPERATOR">=</span> crnId.<span class="syntax-FUNCTION">or</span><span class="syntax-OPERATOR">(</span>crnNote<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 245 </span>        <span class="syntax-KEYWORD1">assert</span> crn.<span class="syntax-FUNCTION">evaluate</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 246 </span>
<span class="gutter"> 247 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Compound</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">condition</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">with</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parentheses:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.CREATED&lt;=now()</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">and</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(Order.NOTE='another'</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">or</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.ID&gt;99)</span>
<span class="gutter"> 248 </span>        crn <span class="syntax-OPERATOR">=</span> crnCreated.<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>crnNote.<span class="syntax-FUNCTION">or</span><span class="syntax-OPERATOR">(</span>crnId<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 249 </span>        <span class="syntax-KEYWORD1">assert</span> crn.<span class="syntax-FUNCTION">evaluate</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 250 </span>
<span class="gutter"> 251 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Another</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">condition:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(Order.CREATED&lt;=now()</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">or</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.NOTE='another')</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">and</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order.ID&gt;99</span>
<span class="gutter"> 252 </span>        crn <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">(</span>crnCreated.<span class="syntax-FUNCTION">or</span><span class="syntax-OPERATOR">(</span>crnNote<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>crnId<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 253 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">...</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">or</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">simple</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">by</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">native</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">priority:</span>
<span class="gutter"> 254 </span>        crn <span class="syntax-OPERATOR">=</span>  crnCreated.<span class="syntax-FUNCTION">or</span><span class="syntax-OPERATOR">(</span>crnNote<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>crnId<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 255 </span>        <span class="syntax-KEYWORD1">assert</span> crn.<span class="syntax-FUNCTION">evaluate</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 256 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 257 </span>
<span class="gutter"> 258 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Sort</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">orders</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">two</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">keys</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">NOTE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATED</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">descending</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 259 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSortOrders</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 260 </span>
<span class="gutter"> 261 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 262 </span>        orders.<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span> Order.NOTE
<span class="gutter"> 263 </span>                      , Order.CREATED.<span class="syntax-FUNCTION">descending</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 264 </span>
<span class="gutterH"> 265 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">VIEW</span><span class="syntax-LITERAL1">-</span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">COUNT</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> orders.<span class="syntax-FUNCTION">getCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 266 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 267 </span>
<span class="gutter"> 268 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Sort</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3">composite</span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">propertry</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 269 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">1</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">how</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">composite</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">can</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">be</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">used</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">reading</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">values</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">too</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 270 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">2</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">metod</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">loadLazyValues</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">able</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">load</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">all</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">lazy</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">keys</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">its</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">related</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 271 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 272 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSortOrderItems</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 273 </span>
<span class="gutter"> 274 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 275 </span>        items.<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.CREATED<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 276 </span>
<span class="gutter"> 277 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 278 </span>            OrmTools.<span class="syntax-FUNCTION">loadLazyValues</span><span class="syntax-OPERATOR">(</span>item, <span class="syntax-DIGIT">2</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 279 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span>item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.CREATED<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 280 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 281 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Another</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">way</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">avoid</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">by</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">bulk</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">property</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading:</span>
<span class="gutter"> 282 </span>        List<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> itemList <span class="syntax-OPERATOR">=</span> OrmTools.<span class="syntax-FUNCTION">loadLazyValuesAsBatch</span><span class="syntax-OPERATOR">(</span>items<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 283 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">itemList</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> itemList<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 284 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 285 </span>
<span class="gutter"> 286 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">native</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATED</span>
<span class="gutter"> 287 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">special</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">entity</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">signed</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">@View</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">annotation</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 288 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">special</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3">inner</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">parameter</span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SQL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">statement</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">on</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Annotation</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">class</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ViewOrder</span><span class="syntax-COMMENT3">,</span>
<span class="gutter"> 289 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">value</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">this</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">optional</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">parameter</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">set</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">method</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Query</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">setSqlParameters</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3">;</span>
<span class="gutterH"> 290 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Query</span><span class="syntax-COMMENT3">#</span><span class="syntax-COMMENT3">setSqlParameters</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">java</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">lang</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">Object</span><span class="syntax-COMMENT3">[</span><span class="syntax-COMMENT3">]</span><span class="syntax-COMMENT3">)</span>
<span class="gutter"> 291 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 292 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectViewOrders</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 293 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Some</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">dialects</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">must</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">have</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">got</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">special</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">SQL</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">statements:</span>
<span class="gutter"> 294 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>session.<span class="syntax-FUNCTION">hasDialect</span><span class="syntax-OPERATOR">(</span>ViewOrder.<span class="syntax-KEYWORD3">class</span>, DerbyDialect.<span class="syntax-KEYWORD3">class</span>, FirebirdDialect.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 295 </span>        <span class="syntax-OPERATOR">|</span><span class="syntax-OPERATOR">|</span>  session.<span class="syntax-FUNCTION">getParameters</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">isQuotedSqlNames</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">{</span> <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Columns</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">must</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">quoted</span>
<span class="gutter"> 296 </span>            <span class="syntax-KEYWORD1">return</span>;
<span class="gutter"> 297 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 298 </span>
<span class="gutter"> 299 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>ViewOrder<span class="syntax-OPERATOR">&gt;</span> crit <span class="syntax-OPERATOR">=</span> ViewOrder.ITEM_COUNT.<span class="syntax-FUNCTION">whereGt</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 300 </span>
<span class="gutter"> 301 </span>        <span class="syntax-KEYWORD3">long</span> minimalOrderId <span class="syntax-OPERATOR">=</span> <span class="syntax-DIGIT">0L</span>;
<span class="gutter"> 302 </span>        <span class="syntax-KEYWORD3">long</span> orderCount <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crit<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 303 </span>                .<span class="syntax-FUNCTION">setSqlParameters</span><span class="syntax-OPERATOR">(</span>minimalOrderId<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 304 </span>                .<span class="syntax-FUNCTION">getCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 305 </span>                ;
<span class="gutter"> 306 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Order</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Count</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> orderCount<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 307 </span>
<span class="gutter"> 308 </span>        Query<span class="syntax-OPERATOR">&lt;</span>ViewOrder<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crit<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 309 </span>                .<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">5</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 310 </span>                .<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>ViewOrder.ID<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 311 </span>                .<span class="syntax-FUNCTION">setSqlParameters</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 312 </span>                ;
<span class="gutter"> 313 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>ViewOrder order : orders<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 314 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ROW</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 315 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 316 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 317 </span>
<span class="gutter"> 318 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">native</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATED</span>
<span class="gutter"> 319 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">special</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">entity</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">signed</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">@View</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">annotation</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 320 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">special</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3">inner</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">parameter</span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">strong</span><span class="syntax-MARKUP">&gt;</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SQL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">statement</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">on</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Annotation</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">class</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ViewOrder</span><span class="syntax-COMMENT3">,</span>
<span class="gutter"> 321 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">value</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">this</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">optional</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">parameter</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">set</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">method</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Query</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">setSqlParameters</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3">;</span>
<span class="gutter"> 322 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Query</span><span class="syntax-COMMENT3">#</span><span class="syntax-COMMENT3">setSqlParameters</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">java</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">lang</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">Object</span><span class="syntax-COMMENT3">[</span><span class="syntax-COMMENT3">]</span><span class="syntax-COMMENT3">)</span>
<span class="gutter"> 323 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 324 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectWithNativeSQL</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 325 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Some</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">dialects</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">must</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">have</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">got</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">special</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">SQL</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">statements:</span>
<span class="gutter"> 326 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>session.<span class="syntax-FUNCTION">hasDialect</span><span class="syntax-OPERATOR">(</span>ViewOrder.<span class="syntax-KEYWORD3">class</span>, DerbyDialect.<span class="syntax-KEYWORD3">class</span>, FirebirdDialect.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 327 </span>        <span class="syntax-OPERATOR">|</span><span class="syntax-OPERATOR">|</span>  session.<span class="syntax-FUNCTION">getParameters</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">isQuotedSqlNames</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">{</span> <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Columns</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">must</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">quoted</span>
<span class="gutter"> 328 </span>            <span class="syntax-KEYWORD1">return</span>;
<span class="gutter"> 329 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 330 </span>
<span class="gutter"> 331 </span>        <span class="syntax-KEYWORD2">final</span> Long excludedId <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">-</span><span class="syntax-DIGIT">7L</span>;
<span class="gutter"> 332 </span>        SqlParameters sql <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">SqlParameters</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.setSqlStatement
<span class="gutter"> 333 </span>                <span class="syntax-OPERATOR">(</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">SELECT</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">*</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">FROM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">(</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 334 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">SELECT</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutterH"> 335 </span>                <span class="syntax-OPERATOR">+</span>         <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">,</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">1000</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">+</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">count</span><span class="syntax-LITERAL1">(</span><span class="syntax-LITERAL1">*</span><span class="syntax-LITERAL1">)</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">AS</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">item_count</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 336 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">FROM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">$</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">SCHEMA</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">ord_order</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 337 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">LEFT</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">JOIN</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">$</span><span class="syntax-LITERAL1">{</span><span class="syntax-LITERAL1">SCHEMA</span><span class="syntax-LITERAL1">}</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">ord_item</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_item_alias</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 338 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ON</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">=</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_item_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">fk_order</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 339 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">WHERE</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_item_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">!</span><span class="syntax-LITERAL1">=</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">?</span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Parameter</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">is</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">replaced</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">by</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">excludedId</span>
<span class="gutterH"> 340 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">GROUP</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">BY</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 341 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">BY</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 342 </span>                <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">)</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">testView</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">WHERE</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">true</span><span class="syntax-LITERAL1">&quot;</span>
<span class="gutter"> 343 </span>                <span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setParameters</span><span class="syntax-OPERATOR">(</span>excludedId<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 344 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>ViewOrder<span class="syntax-OPERATOR">&gt;</span> crit <span class="syntax-OPERATOR">=</span> ViewOrder.ITEM_COUNT.<span class="syntax-FUNCTION">whereLe</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">100</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 345 </span>        <span class="syntax-KEYWORD3">long</span> orderCount <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crit<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 346 </span>                .<span class="syntax-FUNCTION">setSqlParameters</span><span class="syntax-OPERATOR">(</span>sql<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 347 </span>                .<span class="syntax-FUNCTION">getCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 348 </span>                ;
<span class="gutter"> 349 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Order</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Count</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> orderCount<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 350 </span>
<span class="gutter"> 351 </span>        Query<span class="syntax-OPERATOR">&lt;</span>ViewOrder<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crit<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 352 </span>                .<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">5</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 353 </span>                .<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>ViewOrder.ID<span class="syntax-OPERATOR">)</span>
<span class="gutter"> 354 </span>                .<span class="syntax-FUNCTION">setSqlParameters</span><span class="syntax-OPERATOR">(</span>sql<span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 355 </span>                ;
<span class="gutter"> 356 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>ViewOrder order : orders<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 357 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ROW</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 358 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 359 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 360 </span>
<span class="gutter"> 361 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">all</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ITEMS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">description</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">table</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">insensitive</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">text</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 362 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_1</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 363 </span>
<span class="gutter"> 364 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> crit <span class="syntax-OPERATOR">=</span> Item.NOTE.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>CONTAINS_CASE_INSENSITIVE, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">table</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 365 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crit<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>Item.ID.<span class="syntax-FUNCTION">descending</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 366 </span>
<span class="gutter"> 367 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 368 </span>            Order order <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getOrder</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 369 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ITEM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ROW</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 370 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 371 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 372 </span>
<span class="gutter"> 373 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">print</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">its</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">criterion</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 374 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_2</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 375 </span>
<span class="gutter"> 376 </span>        Order orderValue <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">load</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span>, <span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 377 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">whereEq</span><span class="syntax-OPERATOR">(</span>orderValue<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 378 </span>
<span class="gutter"> 379 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 380 </span>            Order order2 <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getOrder</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 381 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ITEM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ROW</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order2<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 382 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 383 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 384 </span>
<span class="gutterH"> 385 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">print</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">its</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Items</span>
<span class="gutter"> 386 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">many</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">relation</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span>
<span class="gutter"> 387 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 388 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_3</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 389 </span>        Order order <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">load</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span>, <span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 390 </span>
<span class="gutter"> 391 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : order.<span class="syntax-FUNCTION">getItems</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 392 </span>            Order order2 <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getOrder</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 393 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ITEM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ROW</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order2<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 394 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 395 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 396 </span>
<span class="gutter"> 397 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">composed</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 398 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">It</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">sample</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">multi</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">table</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 399 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span><span class="syntax-COMMENT3">#</span><span class="syntax-COMMENT3">$</span><span class="syntax-COMMENT3">ORDER_CREATED</span>
<span class="gutterH"> 400 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 401 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_4</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 402 </span>        Key<span class="syntax-OPERATOR">&lt;</span>Item, Date<span class="syntax-OPERATOR">&gt;</span> ORDER_DATE <span class="syntax-OPERATOR">=</span> Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.CREATED<span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">or</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">use:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Item.$ORDER_CREATED</span>
<span class="gutter"> 403 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>ORDER_DATE.<span class="syntax-FUNCTION">whereLe</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 404 </span>
<span class="gutterH"> 405 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 406 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 407 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 408 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 409 </span>
<span class="gutterH"> 410 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">composed</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 411 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">It</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">sample</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">multi</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">table</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">query</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 412 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">See</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">used</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Criterion</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">whereIn</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">method</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">value</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">list</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">can</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">be</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">empty</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">RESULT</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">returns</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">FALSE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">always</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">in</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">this</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">case</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 413 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-LABEL">@see</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span><span class="syntax-COMMENT3">#</span><span class="syntax-COMMENT3">$</span><span class="syntax-COMMENT3">ORDER_CREATED</span>
<span class="gutter"> 414 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutterH"> 415 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_5</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 416 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ID.<span class="syntax-FUNCTION">whereIn</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span>,<span class="syntax-DIGIT">2L</span>,<span class="syntax-DIGIT">3L</span>,<span class="syntax-DIGIT">4L</span>,<span class="syntax-DIGIT">5L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 417 </span>
<span class="gutter"> 418 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 419 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 420 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 421 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 422 </span>
<span class="gutter"> 423 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">using</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">IN</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">operator</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">persistent</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">objects</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 424 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_5b</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 425 </span>        Order orderA <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 426 </span>        Order orderB <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">2L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 427 </span>
<span class="gutter"> 428 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">whereIn</span><span class="syntax-OPERATOR">(</span>orderA, orderB<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 429 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 430 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 431 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 432 </span>
<span class="gutter"> 433 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">without</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 434 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_6</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 435 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.CUSTOMER<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">whereNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 436 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 437 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ITEM</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">WITHOUT</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 438 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 439 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 440 </span>
<span class="gutter"> 441 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Using</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">IN</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">phrase</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">list</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Ujo</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">objects</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 442 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectItems_7</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 443 </span>        List<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Order.ID.<span class="syntax-FUNCTION">forAll</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">list</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 444 </span>        List<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">whereIn</span><span class="syntax-OPERATOR">(</span>orders<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">list</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 445 </span>        <span class="syntax-KEYWORD1">assert</span> items.<span class="syntax-FUNCTION">size</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">&gt;</span><span class="syntax-DIGIT">0</span> : <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">have</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">got</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">two</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Items</span><span class="syntax-LITERAL1">&quot;</span>;
<span class="gutter"> 446 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 447 </span>
<span class="gutter"> 448 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Create</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SELECT</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">column</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">only</span>
<span class="gutter"> 449 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">no</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">duplicate</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">rows</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">better</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">performance</span><span class="syntax-COMMENT3">.</span>
<span class="gutterH"> 450 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 451 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useOptimizedSelect</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 452 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ID.<span class="syntax-FUNCTION">whereNeq</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 453 </span>                .<span class="syntax-FUNCTION">setColumn</span><span class="syntax-OPERATOR">(</span>Item.NOTE<span class="syntax-OPERATOR">)</span> <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Select</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">one</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">column</span>
<span class="gutter"> 454 </span>                .<span class="syntax-FUNCTION">setDistinct</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Remove</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">duplicate</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">rows</span>
<span class="gutterH"> 455 </span>                ;
<span class="gutter"> 456 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 457 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Note</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item.<span class="syntax-FUNCTION">getNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 458 </span>
<span class="gutter"> 459 </span>            <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Other</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">columns</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">have</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">got</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">default</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">value</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">always:</span>
<span class="gutterH"> 460 </span>            <span class="syntax-KEYWORD1">assert</span> item.<span class="syntax-FUNCTION">getId</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> Item.ID.<span class="syntax-FUNCTION">getDefault</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 461 </span>            <span class="syntax-KEYWORD1">assert</span> item.<span class="syntax-FUNCTION">getOrder</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">=</span><span class="syntax-OPERATOR">=</span> Item.ORDER.<span class="syntax-FUNCTION">getDefault</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 462 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 463 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 464 </span>
<span class="gutterH"> 465 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Fetch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">column</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">from</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">related</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">tables</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 466 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useOneRequestLoading</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 467 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.ID.<span class="syntax-FUNCTION">whereNeq</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 468 </span>        Key<span class="syntax-OPERATOR">&lt;</span>Item, Date<span class="syntax-OPERATOR">&gt;</span> orderCreated <span class="syntax-OPERATOR">=</span> Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.CREATED<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 469 </span>
<span class="gutterH"> 470 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Fetch</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order's</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">CREATED</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">column</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(and</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">primary</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">key):</span>
<span class="gutter"> 471 </span>        items.<span class="syntax-FUNCTION">setColumns</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span>, orderCreated<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 472 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items.<span class="syntax-FUNCTION">list</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 473 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">getId</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">due</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">request:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">addPrimaryKey</span>
<span class="gutter"> 474 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>orderCreated<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 475 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 476 </span>         <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">checkNull(false</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">,</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">item.get(Item.ORDER.add(Order.ID)));</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">TODO</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">FixIT</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(?)</span>
<span class="gutter"> 477 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span> , item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.NOTE<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 478 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span> , item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Eeach</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">has</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">not-null</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">NOTE!</span>
<span class="gutter"> 479 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 480 </span>
<span class="gutter"> 481 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Fetch</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">all</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Order</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">columns:</span>
<span class="gutter"> 482 </span>        items.<span class="syntax-FUNCTION">setColumns</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span>, Item.ORDER<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 483 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : items.<span class="syntax-FUNCTION">list</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 484 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">getId</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">due</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">request:</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">addPrimaryKey</span>
<span class="gutterH"> 485 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">true</span> , item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.NOTE<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 486 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 487 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>orderCreated<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 488 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.ID<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 489 </span>            <span class="syntax-FUNCTION">expectNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL2">false</span>, item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 490 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 491 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 492 </span>
<span class="gutter"> 493 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">all</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">description</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">with</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">table</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">insensitive</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">text</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 494 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useNativeCriterion</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 495 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>session.<span class="syntax-FUNCTION">getParameters</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">isQuotedSqlNames</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 496 </span>            <span class="syntax-KEYWORD1">return</span>;  <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Columns</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">must</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">quoted</span>
<span class="gutter"> 497 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 498 </span>
<span class="gutter"> 499 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> crn <span class="syntax-OPERATOR">=</span> Order.STATE.<span class="syntax-FUNCTION">forSql</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ord_order_alias</span><span class="syntax-LITERAL1">.</span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1">&gt;</span><span class="syntax-LITERAL1">0</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 500 </span>             .<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>Order.CREATED.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>LE, <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 501 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>crn<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 502 </span>
<span class="gutter"> 503 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Order order : orders<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 504 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">ORDER</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 505 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 506 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 507 </span>
<span class="gutter"> 508 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">reload</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">object</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">values</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">from</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 509 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useReloading</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutterH"> 510 </span>        Order order <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 511 </span>
<span class="gutter"> 512 </span>        <span class="syntax-KEYWORD3">boolean</span> result <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">reload</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 513 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Reloading</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> result <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">for</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Order</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 514 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 515 </span>
<span class="gutter"> 516 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">get</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">latest</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">order</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">LIMIT</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">attribute</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 517 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useLimitAndOffset</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 518 </span>        Order order <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 519 </span>                .<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 520 </span>                .<span class="syntax-FUNCTION">setOffset</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0</span><span class="syntax-OPERATOR">)</span> <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">The</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">default</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">value</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">can't</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">specified</span>
<span class="gutter"> 521 </span>                .<span class="syntax-FUNCTION">orderBy</span><span class="syntax-OPERATOR">(</span>Order.CREATED.<span class="syntax-FUNCTION">descending</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 522 </span>                .<span class="syntax-FUNCTION">uniqueResult</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 523 </span>                ;
<span class="gutter"> 524 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">latest</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Order</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 525 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 526 </span>
<span class="gutter"> 527 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">count</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 528 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useSelectCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 529 </span>        Query<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> query <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.NOTE.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>CONTAINS_CASE_INSENSITIVE, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">table</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 530 </span>        <span class="syntax-KEYWORD3">long</span> count <span class="syntax-OPERATOR">=</span> query.<span class="syntax-FUNCTION">getCount</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 531 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Count</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">of</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">the</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">order</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">items</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> count<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 532 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 533 </span>
<span class="gutter"> 534 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">get</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Foreign</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Key</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">without</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">lazy</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">loading</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutterH"> 535 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useForeignKey</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 536 </span>        Database db <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">getFirstDatabase</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 537 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : db.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Database.ORDER_ITEMS<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 538 </span>            ForeignKey fk1 <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">readFK</span><span class="syntax-OPERATOR">(</span>Item.ORDER<span class="syntax-OPERATOR">)</span>;   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">before</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading</span>
<span class="gutter"> 539 </span>            item.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Item.ORDER<span class="syntax-OPERATOR">)</span>;                       <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading</span>
<span class="gutterH"> 540 </span>            ForeignKey fk2 <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">readFK</span><span class="syntax-OPERATOR">(</span>Item.ORDER<span class="syntax-OPERATOR">)</span>;   <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">after</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">lazy</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">loading</span>
<span class="gutter"> 541 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">FK</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> fk1 <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> fk1.<span class="syntax-FUNCTION">equals</span><span class="syntax-OPERATOR">(</span>fk2<span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 542 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 543 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 544 </span>
<span class="gutterH"> 545 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">skip</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">items</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 546 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useIteratorSkip</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 547 </span>        UjoIterator<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> items <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.NOTE.<span class="syntax-FUNCTION">where</span><span class="syntax-OPERATOR">(</span>NOT_EQ, <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">XXXXX</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">iterator</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 548 </span>
<span class="gutter"> 549 </span>        <span class="syntax-KEYWORD3">boolean</span> skip <span class="syntax-OPERATOR">=</span> items.<span class="syntax-FUNCTION">skip</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 550 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>items.<span class="syntax-FUNCTION">hasNext</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 551 </span>            Item item <span class="syntax-OPERATOR">=</span> items.<span class="syntax-FUNCTION">next</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 552 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 553 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 554 </span>
<span class="gutterH"> 555 </span>        skip <span class="syntax-OPERATOR">=</span> items.<span class="syntax-FUNCTION">skip</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 556 </span>        <span class="syntax-KEYWORD3">boolean</span> isNext <span class="syntax-OPERATOR">=</span> items.<span class="syntax-FUNCTION">hasNext</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 557 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Next</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> isNext<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 558 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 559 </span>
<span class="gutterH"> 560 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Sample</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">many</span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">relation</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 561 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">that</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">it</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">possible</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">configuration</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">object</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">too</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 562 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 563 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useRelation</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 564 </span>        Database db <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">getDatabase</span><span class="syntax-OPERATOR">(</span>Database.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 565 </span>
<span class="gutter"> 566 </span>        UjoIterator<span class="syntax-OPERATOR">&lt;</span>Order<span class="syntax-OPERATOR">&gt;</span> orders <span class="syntax-OPERATOR">=</span> db.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>Database.ORDERS<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 567 </span>        <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Order order : orders<span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 568 </span>            String note <span class="syntax-OPERATOR">=</span> order.<span class="syntax-FUNCTION">getNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 569 </span>            System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Order</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> order <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1">/</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">note</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> note<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 570 </span>
<span class="gutter"> 571 </span>            <span class="syntax-KEYWORD1">for</span> <span class="syntax-OPERATOR">(</span>Item item : order.<span class="syntax-FUNCTION">getItems</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 572 </span>                Long itemId <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getId</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 573 </span>                String itemDescr <span class="syntax-OPERATOR">=</span> item.<span class="syntax-FUNCTION">getNote</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 574 </span>                System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">Item</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">id</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> itemId <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">note</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> itemDescr<span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 575 </span>            <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 576 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 577 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 578 </span>
<span class="gutter"> 579 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Call</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">stored</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">procedure</span><span class="syntax-COMMENT3">:</span>
<span class="gutterH"> 580 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">code</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 581 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">OR</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">REPLACE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">FUNCTION</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">db1</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">ujorm_test</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">integer</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">boolean</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">RETURNS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">integer</span>
<span class="gutter"> 582 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">AS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">select</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">$</span><span class="syntax-COMMENT3">1</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">+</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">$</span><span class="syntax-COMMENT3">1</span><span class="syntax-COMMENT3">;</span><span class="syntax-COMMENT3">'</span>
<span class="gutter"> 583 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">LANGUAGE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SQL</span>
<span class="gutter"> 584 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">IMMUTABLE</span>
<span class="gutterH"> 585 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">RETURNS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">NULL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ON</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">NULL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">INPUT</span><span class="syntax-COMMENT3">;</span>
<span class="gutter"> 586 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">code</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 587 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">source</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">code</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">aarly</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">implementation</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">prototype</span><span class="syntax-COMMENT3">.</span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 588 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">test</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">was</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">running</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">on</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">PostgreSQL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">release</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">8</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">4</span>
<span class="gutter"> 589 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutterH"> 590 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useStoredProcedure</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 591 </span>        <span class="syntax-KEYWORD3">boolean</span> isProcedureCreated <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">false</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">create</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">database</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">procedure</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">first</span>
<span class="gutter"> 592 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span> <span class="syntax-OPERATOR">!</span> isProcedureCreated <span class="syntax-OPERATOR">)</span> <span class="syntax-KEYWORD1">return</span>;
<span class="gutter"> 593 </span>
<span class="gutter"> 594 </span>        MyProcedure procedure <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">MyProcedure</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 595 </span>
<span class="gutter"> 596 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Assign</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">input</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameters:</span>
<span class="gutter"> 597 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_CODE, <span class="syntax-DIGIT">5</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 598 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_ENABLED, <span class="syntax-LITERAL2">true</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 599 </span>        Integer result <span class="syntax-OPERATOR">=</span> procedure.<span class="syntax-FUNCTION">call</span><span class="syntax-OPERATOR">(</span>session<span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Take</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">RESULT</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">from</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">first</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter</span>
<span class="gutterH"> 600 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stored</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">procedure</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">#</span><span class="syntax-LITERAL1">1</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> result<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 601 </span>
<span class="gutter"> 602 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Another</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">way</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">how</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">get</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">output</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter:</span>
<span class="gutter"> 603 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_CODE, <span class="syntax-DIGIT">24</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 604 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.RESULT, <span class="syntax-LITERAL2">null</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">The</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">output</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter(s)</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">can't</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">initialized.</span>
<span class="gutterH"> 605 </span>        procedure.<span class="syntax-FUNCTION">call</span><span class="syntax-OPERATOR">(</span>session<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 606 </span>        result <span class="syntax-OPERATOR">=</span> procedure.<span class="syntax-FUNCTION">get</span><span class="syntax-OPERATOR">(</span>MyProcedure.RESULT<span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Take</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">RESULT</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">from</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">any</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">output</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter</span>
<span class="gutter"> 607 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stored</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">procedure</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">#</span><span class="syntax-LITERAL1">2</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> result<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 608 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 609 </span>
<span class="gutterH"> 610 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Call</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">stored</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">procedure</span><span class="syntax-COMMENT3">:</span>
<span class="gutter"> 611 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">code</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 612 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">CREATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">OR</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">REPLACE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">FUNCTION</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">db1</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">ujorm_test2</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">integer</span><span class="syntax-COMMENT3">)</span>
<span class="gutter"> 613 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">RETURNS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">refcursor</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">AS</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">'</span><span class="syntax-COMMENT3">DECLARE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">mycurs</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">refcursor</span><span class="syntax-COMMENT3">;</span>
<span class="gutter"> 614 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">BEGIN</span>
<span class="gutterH"> 615 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">OPEN</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">mycurs</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">FOR</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">SELECT</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">11</span><span class="syntax-COMMENT3">,</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">12</span><span class="syntax-COMMENT3">;</span>
<span class="gutter"> 616 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">RETURN</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">mycurs</span><span class="syntax-COMMENT3">;</span>
<span class="gutter"> 617 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">END</span><span class="syntax-COMMENT3">;</span><span class="syntax-COMMENT3">'</span>
<span class="gutter"> 618 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">LANGUAGE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">plpgsql</span>
<span class="gutter"> 619 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">code</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 620 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">source</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">code</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">is</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">aarly</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">implementation</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">prototype</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 621 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Note</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">test</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">was</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">running</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">on</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">PostgreSQL</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">release</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">8</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">4</span>
<span class="gutter"> 622 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 623 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useStoredProcedure_2</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 624 </span>        MyProcedure procedure <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">MyProcedure</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 625 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">MyProcedure</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">procedure2</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">=</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">session.newProcedure(MyProcedure.class);</span>
<span class="gutter"> 626 </span>
<span class="gutter"> 627 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Assign</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">input</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameters:</span>
<span class="gutter"> 628 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.RESULT, <span class="syntax-LITERAL2">null</span><span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">The</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">output</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter(s)</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">can't</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">be</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">initialized.</span>
<span class="gutter"> 629 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_CODE, <span class="syntax-DIGIT">5</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 630 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_ENABLED, <span class="syntax-LITERAL2">true</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 631 </span>
<span class="gutter"> 632 </span>        Integer result <span class="syntax-OPERATOR">=</span> procedure.<span class="syntax-FUNCTION">call</span><span class="syntax-OPERATOR">(</span>session<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 633 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stored</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">procedure</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">#</span><span class="syntax-LITERAL1">1</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> result<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 634 </span>
<span class="gutterH"> 635 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">See</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">how</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">reuse</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">input</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameters</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">of</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">object</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">'procedure':</span>
<span class="gutter"> 636 </span>        procedure.<span class="syntax-FUNCTION">set</span><span class="syntax-OPERATOR">(</span>MyProcedure.PARAM_CODE, <span class="syntax-DIGIT">24</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 637 </span>        result <span class="syntax-OPERATOR">=</span> procedure.<span class="syntax-FUNCTION">call</span><span class="syntax-OPERATOR">(</span>session, MyProcedure.RESULT<span class="syntax-OPERATOR">)</span>; <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Take</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">RESULT</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">of</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">any</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">(output)</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">parameter</span>
<span class="gutter"> 638 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">The</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">stored</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">procedure</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">result</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">#</span><span class="syntax-LITERAL1">2</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> result<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 639 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 640 </span>
<span class="gutter"> 641 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Using</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">UPDATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 642 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 643 </span>        Order order <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">load</span><span class="syntax-OPERATOR">(</span>Order.<span class="syntax-KEYWORD3">class</span>, <span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 644 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 645 </span>
<span class="gutter"> 646 </span>        session.<span class="syntax-FUNCTION">update</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 647 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 648 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 649 </span>
<span class="gutterH"> 650 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">batch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">UPDATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">selected</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">columns</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">required</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">rows</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP"> </span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 651 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">exsample</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">updates</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">column</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">CREATED</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">current</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">date</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">all</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Orders</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3">&gt;</span><span class="syntax-COMMENT3">=</span><span class="syntax-COMMENT3">1</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 652 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 653 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useBatchUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 654 </span>        Order order <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 655 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Activate</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Change</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">column</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">management:</span>
<span class="gutter"> 656 </span>        order.<span class="syntax-FUNCTION">writeSession</span><span class="syntax-OPERATOR">(</span>session<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 657 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Set</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">value(s)</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">change:</span>
<span class="gutter"> 658 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 659 </span>
<span class="gutterH"> 660 </span>        session.<span class="syntax-FUNCTION">update</span><span class="syntax-OPERATOR">(</span>order, Order.ID.<span class="syntax-FUNCTION">whereGe</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 661 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 662 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 663 </span>
<span class="gutter"> 664 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">batch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">UPDATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">selected</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">columns</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">required</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">rows</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">extented</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">condition</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP"> </span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 665 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">See</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">next</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">example</span><span class="syntax-COMMENT3">:</span>
<span class="gutter"> 666 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 667 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useExtendedUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 668 </span>        Order order <span class="syntax-OPERATOR">=</span> <span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Order</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 669 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Activate</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Change</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">column</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">management:</span>
<span class="gutterH"> 670 </span>        order.<span class="syntax-FUNCTION">writeSession</span><span class="syntax-OPERATOR">(</span>session<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 671 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Set</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">value(s)</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">the</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">change:</span>
<span class="gutter"> 672 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 673 </span>
<span class="gutter"> 674 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> crn <span class="syntax-OPERATOR">=</span> Item.ID.<span class="syntax-FUNCTION">whereGt</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0L</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 675 </span>                .<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">whereNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 676 </span>        session.<span class="syntax-FUNCTION">update</span><span class="syntax-OPERATOR">(</span>order, crn<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 677 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 678 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 679 </span>
<span class="gutterH"> 680 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Using</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">pesimistic</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">UPDATE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">by</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">method</span><span class="syntax-COMMENT3">:</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">setLockRequest</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 681 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">usePesimisticUpdate</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 682 </span>        Order order <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Order.ID.<span class="syntax-FUNCTION">whereEq</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 683 </span>            .<span class="syntax-FUNCTION">setLockRequest</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 684 </span>            .<span class="syntax-FUNCTION">uniqueResult</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutterH"> 685 </span>            ;
<span class="gutter"> 686 </span>        order.<span class="syntax-FUNCTION">setCreated</span><span class="syntax-OPERATOR">(</span><span class="syntax-KEYWORD1">new</span> <span class="syntax-FUNCTION">Date</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 687 </span>        session.<span class="syntax-FUNCTION">update</span><span class="syntax-OPERATOR">(</span>order<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 688 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 689 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutterH"> 690 </span>
<span class="gutter"> 691 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">DELETE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">one</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">loaded</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">object</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 692 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 693 </span>        Item item <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">createQuery</span><span class="syntax-OPERATOR">(</span>Item.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">setLimit</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1</span><span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">uniqueResult</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 694 </span>
<span class="gutterH"> 695 </span>        session.<span class="syntax-FUNCTION">delete</span><span class="syntax-OPERATOR">(</span>item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 696 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 697 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">There</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">is</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">DELETED</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">object</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> item<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 698 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 699 </span>
<span class="gutterH"> 700 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">batch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">DELETE</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutter"> 701 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">The</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">next</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">example</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">deletes</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">all</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Items</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">where</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Item</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">ID</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">=</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">1</span>
<span class="gutter"> 702 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 703 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useBatchDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 704 </span>        <span class="syntax-KEYWORD3">int</span> count <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">delete</span><span class="syntax-OPERATOR">(</span>Item.ID.<span class="syntax-FUNCTION">whereEq</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">1L</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 705 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 706 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">There</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">are</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">DELETED</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">rows</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> count<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 707 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 708 </span>
<span class="gutter"> 709 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">How</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">use</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">batch</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">DELETE</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">for</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">an</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">extended</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">conditon</span><span class="syntax-COMMENT3">?</span><span class="syntax-COMMENT3"> </span><span class="syntax-MARKUP">&lt;</span><span class="syntax-MARKUP">br</span><span class="syntax-MARKUP">/</span><span class="syntax-MARKUP">&gt;</span>
<span class="gutterH"> 710 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">See</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">next</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">example</span><span class="syntax-COMMENT3">:</span>
<span class="gutter"> 711 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 712 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useExtendedDelete</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 713 </span>        Criterion<span class="syntax-OPERATOR">&lt;</span>Item<span class="syntax-OPERATOR">&gt;</span> crn <span class="syntax-OPERATOR">=</span> Item.ID.<span class="syntax-FUNCTION">whereGt</span><span class="syntax-OPERATOR">(</span><span class="syntax-DIGIT">0L</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 714 </span>                .<span class="syntax-FUNCTION">and</span><span class="syntax-OPERATOR">(</span>Item.ORDER.<span class="syntax-FUNCTION">add</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span>.<span class="syntax-FUNCTION">whereNull</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 715 </span>        <span class="syntax-KEYWORD3">int</span> count <span class="syntax-OPERATOR">=</span> session.<span class="syntax-FUNCTION">delete</span><span class="syntax-OPERATOR">(</span>crn<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 716 </span>        session.<span class="syntax-FUNCTION">commit</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 717 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span><span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">There</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">are</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">DELETED</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">rows</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> count<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 718 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 719 </span>
<span class="gutterH"> 720 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Print</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">some</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">meta</span><span class="syntax-COMMENT3">-</span><span class="syntax-COMMENT3">data</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">of</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">the</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">property</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Order</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3">NOTE</span><span class="syntax-COMMENT3">.</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 721 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useMetadata</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 722 </span>        MetaColumn col <span class="syntax-OPERATOR">=</span> <span class="syntax-OPERATOR">(</span>MetaColumn<span class="syntax-OPERATOR">)</span> handler.<span class="syntax-FUNCTION">findColumnModel</span><span class="syntax-OPERATOR">(</span>Order.NOTE<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 723 </span>
<span class="gutter"> 724 </span>        String msg <span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">*</span><span class="syntax-LITERAL1">*</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">METADATA</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">OF</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">COLUMN</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> Order.NOTE.<span class="syntax-FUNCTION">toString</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutterH"> 725 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">DB</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">name</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">getFullName</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>  <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutter"> 726 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Comment</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">getComment</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>   <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutter"> 727 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Length</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">getMaxLength</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutter"> 728 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">NotNull</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">isMandatory</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>  <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutter"> 729 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Primary</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">isPrimaryKey</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL3">'</span><span class="syntax-LITERAL4">\n</span><span class="syntax-LITERAL3">'</span>
<span class="gutterH"> 730 </span>            <span class="syntax-OPERATOR">+</span> <span class="syntax-LITERAL1">&quot;</span><span class="syntax-LITERAL1">Dialect</span><span class="syntax-LITERAL1">:</span><span class="syntax-LITERAL1"> </span><span class="syntax-LITERAL1">&quot;</span> <span class="syntax-OPERATOR">+</span> col.<span class="syntax-FUNCTION">getDialectName</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>
<span class="gutter"> 731 </span>            ;
<span class="gutter"> 732 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span>msg<span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 733 </span>
<span class="gutter"> 734 </span>        <span class="syntax-COMMENT2">//</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">See,</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">how</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">to</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">get</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">an</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">annotation</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">of</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">a</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">persistent</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">Key</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">in</span><span class="syntax-COMMENT2"> </span><span class="syntax-COMMENT2">run-time:</span>
<span class="gutterH"> 735 </span>        Comment annotation <span class="syntax-OPERATOR">=</span> handler.<span class="syntax-FUNCTION">findAnnotation</span><span class="syntax-OPERATOR">(</span>Order.ID, Comment.<span class="syntax-KEYWORD3">class</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 736 </span>        System.out.<span class="syntax-FUNCTION">println</span><span class="syntax-OPERATOR">(</span>annotation.<span class="syntax-FUNCTION">value</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span><span class="syntax-OPERATOR">)</span>;
<span class="gutter"> 737 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 738 </span>
<span class="gutter"> 739 </span>    <span class="syntax-COMMENT3">/**</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Close</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">Ujorm</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">session</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">to</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">clear</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">a</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">session</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">cache</span>
<span class="gutterH"> 740 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">and</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">database</span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">connection</span><span class="syntax-COMMENT3">(</span><span class="syntax-COMMENT3">s</span><span class="syntax-COMMENT3">)</span><span class="syntax-COMMENT3">.</span>
<span class="gutter"> 741 </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3"> </span><span class="syntax-COMMENT3">*/</span>
<span class="gutter"> 742 </span>    <span class="syntax-KEYWORD2">public</span> <span class="syntax-KEYWORD3">void</span> <span class="syntax-FUNCTION">useCloseSession</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 743 </span>        <span class="syntax-KEYWORD1">if</span> <span class="syntax-OPERATOR">(</span>session <span class="syntax-OPERATOR">!</span><span class="syntax-OPERATOR">=</span> <span class="syntax-LITERAL2">null</span><span class="syntax-OPERATOR">)</span> <span class="syntax-OPERATOR">{</span>
<span class="gutter"> 744 </span>            session.<span class="syntax-FUNCTION">close</span><span class="syntax-OPERATOR">(</span><span class="syntax-OPERATOR">)</span>;
<span class="gutterH"> 745 </span>        <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 746 </span>    <span class="syntax-OPERATOR">}</span>
<span class="gutter"> 747 </span>
<span class="gutter"> 748 </span><span class="syntax-OPERATOR">}</span>
</span></pre>
</body>
</html>

